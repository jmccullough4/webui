{"version":3,"file":"static/js/415.7d539f1f.chunk.js","mappings":"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","sources":["hooks/useGsmStatusQuery.js","components/header/SignalStrength.js","components/common/TwoPaneModal.js","styles/components/Table.styles.js","hooks/useToast.js","components/routes/RoutesModal.js","hooks/useNetworkInterfacesQuery.js","hooks/useGsmConnectionsQuery.js","hooks/useBridgedStatusQuery.js","components/network/JsonDumpModal.js","components/network/NetworkSettingsModal.js","hooks/useEthernetInterfaceStatusQuery.js","components/performance/PerformanceModal.js","components/configuration/UserManagement.js","components/configuration/PasswordChange.js","hooks/useUpdateStatusQuery.js","components/configuration/UpdateOverlay.js","components/configuration/FileUpload.js","components/configuration/VpnKey.js","components/configuration/LicenseManagement.js","service/sslService.js","components/configuration/SSLStatus.js","components/configuration/ConfigurationModal.js","components/chat/ChatModal.js","styles/components/Header.styles.js","components/header/AppHeader.js","styles/components/Footer.styles.js","components/footer/KillNetworkModal.js","components/footer/AppFooter.js","styles/components/Map.styles.js","components/dashboard/map/MapBox.js","hooks/usePeersQuery.js","hooks/useNetworkQuality.js","components/dashboard/peers/DeletePeerModal.js","components/dashboard/peers/WarhammerNetworkPeers.js","components/dashboard/map/FallbackMap.js","components/dashboard/map/SmartMap.js","styles/components/Layout.styles.js","components/dashboard/DefaultLayout.js","styles/components/Modal.styles.js"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { getGsmStatus } from '../service/warhammer';\n\nconst useGsmStatusQuery = (options = {}) => {\n  const { pausePolling = false, ...queryOptions } = options;\n  \n  return useQuery({\n    queryKey: ['gsm-status'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const status = await getGsmStatus();\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow GSM status response: ${responseTime}ms`);\n        }\n        \n        return status;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        \n        // Handle timeout errors specifically\n        if (error.message === 'Request timed out') {\n          console.warn(`GSM status query timed out after ${responseTime}ms`);\n          throw new Error(`GSM status request timed out after ${responseTime}ms`);\n        }\n        \n        console.error(`GSM status query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      // Pause polling if requested\n      if (pausePolling) {\n        return false;\n      }\n      \n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's a timeout error, slow down polling\n      if (error?.message?.includes('timed out')) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data) {\n        return 5000; // 5 seconds\n      }\n      \n      // Default polling interval\n      return 10000; // 10 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on timeout errors after 1 attempt\n      if (error?.message?.includes('timed out') && failureCount >= 1) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 5 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      if (error.message?.includes('timed out')) {\n        console.warn('GSM status query timed out:', error.message);\n      } else {\n        console.error('GSM status query error:', error);\n      }\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug('GSM status updated:', data);\n    },\n    \n    ...queryOptions,\n  });\n};\n\nexport default useGsmStatusQuery; ","import React from 'react';\nimport styled from 'styled-components';\nimport useGsmStatusQuery from '../../hooks/useGsmStatusQuery';\nimport { usePollingPause } from '../../context/PollingPauseContext';\n\nconst SignalContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-right: ${({ theme }) => theme.spacing.medium};\n  cursor: help;\n`;\n\nconst SignalIcon = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  height: 20px;\n  gap: 2px;\n`;\n\nconst Bar = styled.div`\n  width: 4px;\n  background-color: ${({ active, connected, theme }) => {\n    if (!connected) return theme.colors.background.surface;\n    return active ? theme.colors.accent : theme.colors.background.surface;\n  }};\n  border: 1px solid ${({ connected, theme }) => \n    connected ? theme.colors.accent : theme.colors.text.muted};\n  \n  &:nth-child(1) { height: 5px; }\n  &:nth-child(2) { height: 10px; }\n  &:nth-child(3) { height: 15px; }\n  &:nth-child(4) { height: 20px; }\n`;\n\nconst Tooltip = styled.div`\n  position: absolute;\n  top: 30px;  /* Fixed distance above the icon */\n  right: 0;    /* Align with right edge of container */\n  color: ${({ theme }) => theme.colors.text.muted};\n  padding: ${({ theme }) => theme.spacing.small};\n  background: ${({ theme }) => theme.colors.background.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  white-space: pre-line;\n  min-width: 200px;\n  max-width: 300px;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n  z-index: 1000;\n\n  ${SignalContainer}:hover & {\n    visibility: visible;\n    opacity: 1;\n  }\n`;\n\nconst SignalStrength = () => {\n  const { isPollingPaused } = usePollingPause();\n  \n  // Use React Query for GSM status with automatic polling\n  const { data: gsmStatus, error, isLoading } = useGsmStatusQuery({ \n    pausePolling: isPollingPaused \n  });\n  \n  const getActiveBars = (strength) => {\n    if (!strength && strength !== 0) return 0;\n    // ensure strength is a string or number before calling toString\n    const strValue = String(strength);\n    const sanitizedStrength = strValue.replace(/[^0-9]/g, '');\n    if (sanitizedStrength >= 85) return 4;\n    if (sanitizedStrength >= 70) return 3;\n    if (sanitizedStrength >= 50) return 2;\n    return 1;\n  };\n\n  // Get signal quality from new structure or fallback to old structure\n  const signalQuality = gsmStatus?.signal?.quality || gsmStatus?.signal_quality;\n  const activeBars = getActiveBars(signalQuality);\n  \n  // Check if connected (support both new and old data structures)\n  const isConnected = gsmStatus?.status?.state === 'CONNECTED' || \n                     gsmStatus?.state === 'CONNECTED' ||\n                     gsmStatus?.status?.state === 'connected' ||\n                     gsmStatus?.state === 'connected';\n\n  // Build detailed tooltip content\n  const getTooltipContent = () => {\n    if (!gsmStatus) return 'No signal data available';\n    \n    const status = gsmStatus?.status?.state || gsmStatus?.state || 'Unknown';\n    const networkType = gsmStatus?.network?.access_tech || gsmStatus?.access_tech || 'Unknown';\n    const operator = gsmStatus?.network?.operator_name || gsmStatus?.operator_name || 'Unknown';\n    \n    let tooltip = `Status: ${status}\\nNetwork: ${networkType}\\nOperator: ${operator}`;\n    \n    if (signalQuality) {\n      tooltip += `\\nSignal Quality: ${signalQuality}`;\n    }\n    \n    // Add LTE signal details if available\n    if (gsmStatus?.signal?.lte) {\n      const lte = gsmStatus.signal.lte;\n      if (lte.rssi) tooltip += `\\nRSSI: ${lte.rssi} dBm`;\n      if (lte.rsrp) tooltip += `\\nRSRP: ${lte.rsrp} dBm`;\n      if (lte.rsrq) tooltip += `\\nRSRQ: ${lte.rsrq} dB`;\n      if (lte.sn) tooltip += `\\nS/N: ${lte.sn} dB`;\n    }\n    \n    return tooltip;\n  };\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <SignalContainer>\n        <SignalIcon>\n          {[1, 2, 3, 4].map((bar) => (\n            <Bar key={bar} active={false} connected={false} />\n          ))}\n        </SignalIcon>\n        <Tooltip>\n          Loading signal data...\n        </Tooltip>\n      </SignalContainer>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <SignalContainer>\n        <SignalIcon>\n          {[1, 2, 3, 4].map((bar) => (\n            <Bar key={bar} active={false} connected={false} />\n          ))}\n        </SignalIcon>\n        <Tooltip>\n          Error loading signal data\n        </Tooltip>\n      </SignalContainer>\n    );\n  }\n\n  return (\n    <SignalContainer>\n      <SignalIcon>\n        {[1, 2, 3, 4].map((bar) => (\n          <Bar key={bar} active={bar <= activeBars} connected={isConnected} />\n        ))}\n      </SignalIcon>\n      <Tooltip>\n        {getTooltipContent()}\n      </Tooltip>\n    </SignalContainer>\n  );\n};\n\nexport default SignalStrength; ","import React from 'react';\nimport styled from 'styled-components';\nimport { FiFileText } from 'react-icons/fi';\nimport {\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalTitle,\n  CloseButton,\n  ModalGrid,\n  ModalPane,\n  Hr\n} from '../../styles/components/Modal.styles';\n\nconst UserGuideLink = styled.a`\n  color: ${({ theme }) => theme.colors.text.muted};\n  text-decoration: underline;\n  font-size: 0.9em;\n  margin-left: ${({ theme }) => theme.spacing.medium};\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px 8px;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  \n  &:hover {\n    color: ${({ theme }) => theme.colors.text.primary};\n    background: ${({ theme }) => theme.colors.background.surface};\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TwoPaneModal = ({ \n  isOpen, \n  onClose, \n  title,\n  leftPaneTitle,\n  rightPaneTitle,\n  leftPane,\n  rightPane,\n  singlePane\n}) => {\n  if (!isOpen) return null;\n\n  return (\n    <ModalOverlay onClick={onClose}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <ModalHeader>\n          <TitleContainer>\n            <ModalTitle>{title}</ModalTitle>\n            <UserGuideLink href=\"./wh_user_guide.pdf\" target=\"_blank\">\n              <FiFileText />\n              User Guide\n            </UserGuideLink>\n          </TitleContainer>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </ModalHeader>\n        \n        <ModalGrid singlePane={singlePane}>\n          <ModalPane>\n            {leftPaneTitle && <h3>{leftPaneTitle}</h3>}\n            {leftPane}\n          </ModalPane>\n\n          {!singlePane && (\n            <ModalPane>\n              <h3>{rightPaneTitle}</h3>\n              <Hr />\n              {rightPane}\n            </ModalPane>\n          )}\n        </ModalGrid>\n      </ModalContent>\n    </ModalOverlay>\n  );\n};\n\nexport default TwoPaneModal; ","import styled from 'styled-components';\n\nexport const Table = styled.table`\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n  font-family: ${({ theme }) => theme.fonts.primary};\n`;\n\nexport const TableBody = styled.tbody`\n  background-color: ${({ theme }) => theme.colors.background.surface};\n`;\n\nexport const TableHeader = styled.th`\n  padding: 12px 15px;\n  text-align: left;\n  border-bottom: 1px solid #444;\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-weight: 500;\n  font-size: .75em;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  background: transparent;\n`;\n\nexport const TableRow = styled.tr`\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n  \n  &.current-peer {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nexport const TableCell = styled.td`\n  padding: 12px 15px;\n  border-bottom: 1px solid #333;\n  font-size: 0.85em;\n  color: ${({ theme }) => theme.colors.text.primary};\n\n  a {\n    color: ${({ theme }) => theme.colors.text.hyperlink};\n    text-decoration: none;\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nexport const StatusDot = styled.span`\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin-right: 10px;\n  display: inline-block;\n  background-color: ${props => {\n    switch (props.$status) {\n      case 'connected': return 'green';\n      case 'disconnected': return 'red';\n      default: return 'gray';\n    }\n  }};\n`; ","import { toast, Slide } from 'react-toastify';\n\nconst useToast = () => {\n  const showSuccess = (message) => {\n    toast.success(message, {\n      position: \"bottom-center\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      transition: Slide,\n    });\n  };\n\n  const showError = (message) => {\n    toast.error(message, {\n      position: \"bottom-center\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      transition: Slide,\n    });\n  };\n\n  const showInfo = (message) => {\n    toast.info(message, {\n      position: \"bottom-center\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      transition: Slide,\n    });\n  };\n\n  const showWarning = (message) => {\n    toast.warning(message, {\n      position: \"bottom-center\",\n      autoClose: 4000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      transition: Slide,\n    });\n  };\n\n  return {\n    showSuccess,\n    showError,\n    showInfo,\n    showWarning,\n  };\n};\n\nexport default useToast; ","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport { useLicense } from '../../context/LicenseContext';\nimport { usePollingPause } from '../../context/PollingPauseContext';\nimport TwoPaneModal from '../common/TwoPaneModal';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Select,\n  Button\n} from '../../styles/components/Modal.styles';\nimport {\n  Table,\n  TableHeader,\n  TableRow,\n  TableCell\n} from '../../styles/components/Table.styles';\nimport {\n  getPeers,\n  getRoutes,\n  createRouteAction,\n  deleteRouteAction,\n  clearError,\n  setError,\n} from '../../redux/slices/vpnSlice';\nimport useToast from '../../hooks/useToast';\n\nconst RoutesModal = ({ isOpen, onClose }) => {\n  const dispatch = useDispatch();\n  const { canAccessRoutes } = useLicense();\n  const { isPollingPaused } = usePollingPause();\n  const peers = useSelector((state) => state.vpn.peers) || [];\n  const routes = useSelector((state) => state.vpn.routes) || [];\n  const { addingRoute, deletingRouteId, error } = useSelector((state) => state.vpn);\n  const { showSuccess, showError } = useToast();\n  \n  const [newRouteNetwork, setNewRouteNetwork] = useState('');\n  const [newRouteName, setNewRouteName] = useState('');\n  const [selectedPeer, setSelectedPeer] = useState('');\n\n  useEffect(() => {\n    if (isOpen && canAccessRoutes && !isPollingPaused) {\n      dispatch(getPeers());\n      dispatch(getRoutes());\n      return () => dispatch(clearError());\n    }\n  }, [isOpen, dispatch, canAccessRoutes, isPollingPaused]);\n\n  // If user can't access routes, don't render the modal content\n  if (!canAccessRoutes) {\n    return (\n      <TwoPaneModal\n        isOpen={isOpen}\n        onClose={onClose}\n        title=\"Routes\"\n        leftPaneTitle=\"Routes Management\"\n        leftPane={\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '20px',\n            textAlign: 'center',\n            color: '#aaa'\n          }}>\n            <h3>Feature Unavailable</h3>\n            <p>Please activate your license to access route management.</p>\n          </div>\n        }\n        singlePane={true}\n      />\n    );\n  }\n\n  const handleNetworkInputChange = (e) => setNewRouteNetwork(e.target.value);\n  const handleNameInputChange = (e) => setNewRouteName(e.target.value);\n\n  const handleCreateRoute = async (event) => {\n    event.preventDefault();\n\n    if (_.isEmpty(newRouteNetwork) || _.isEmpty(newRouteName) || _.isEmpty(selectedPeer)) {\n      const message = 'Network ID, Network, and Peer are required';\n      dispatch(setError(message));\n      return;\n    }\n\n    if (newRouteName.length > 40) {\n      const message = 'Network ID must be 40 characters or less';\n      dispatch(setError(message));\n      return;\n    }\n\n    const ipPattern = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\/([0-9]|[1-2][0-9]|3[0-2]))$/;\n\n    if (!ipPattern.test(newRouteNetwork.trim())) {\n      const message = `Invalid CIDR value \"${newRouteNetwork}\". Must be in the format: 10.10.10.0/24`;\n      dispatch(setError(message));\n      return;\n    }\n\n    try {\n      const baseRoute = {\n        metric: 9999,\n        keep_route: true,\n        masquerade: true,\n        enabled: true,\n        peer: selectedPeer,\n        groups: peers.find(p => p.id === selectedPeer)?.groups?.map(g => g.id) || []\n      };\n\n      await dispatch(createRouteAction({\n        ...baseRoute,\n        network: newRouteNetwork.trim(),\n        network_id: newRouteName.trim(),\n      })).unwrap();\n\n      // Clear form on success\n      setNewRouteNetwork('');\n      setNewRouteName('');\n      setSelectedPeer('');\n      showSuccess('Route added successfully');\n    } catch (error) {\n      console.error('Error updating routes:', error);\n      showError(`Failed to add route: ${error.message || 'Unknown error'}`);\n    }\n  };\n\n  const handleDeleteRoute = async (routeId) => {\n    try {\n      await dispatch(deleteRouteAction(routeId)).unwrap();\n      showSuccess('Route deleted successfully');\n    } catch (error) {\n      console.error('Error deleting route:', error);  \n      showError(`Failed to delete route: ${error.message || 'Unknown error'}`);\n    }\n  };\n\n  const AddRoutePane = (\n    <div>\n      <form onSubmit={handleCreateRoute}>\n        <FormGroup>\n          <Label htmlFor=\"peer\">Peer</Label>\n          <Select\n            id=\"peer\"\n            value={selectedPeer}\n            onChange={(e) => setSelectedPeer(e.target.value)}\n          >\n            <option value=\"\">Select a peer...</option>\n            {peers.map(peer => (\n              <option key={peer.id} value={peer.id}>\n                {peer.name.toUpperCase()}\n              </option>\n            ))}\n          </Select>\n        </FormGroup>\n\n        <FormGroup>\n          <Label htmlFor=\"routeName\">Network ID</Label>\n          <Input\n            id=\"routeName\"\n            type=\"text\"\n            placeholder=\"Network ID\"\n            value={newRouteName}\n            onChange={handleNameInputChange}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Label htmlFor=\"network\">Network (CIDR)</Label>\n          <Input\n            id=\"network\"\n            type=\"text\"\n            placeholder=\"e.g., 192.168.1.0/24\"\n            value={newRouteNetwork}\n            onChange={handleNetworkInputChange}\n          />\n        </FormGroup>\n\n        {error && (\n          <FormGroup>\n            <div style={{ color: '#dc3545' }}>{error}</div>\n          </FormGroup>\n        )}\n\n        <Button type=\"submit\" disabled={addingRoute}>\n          {addingRoute ? \"Adding Route...\" : \"Add Route\"}\n        </Button>\n      </form>\n    </div>\n  );\n\n  const ExistingRoutesPane = (\n    <div>\n      <Table>\n        <thead>\n          <tr>\n            <TableHeader>Peer Name</TableHeader>\n            <TableHeader>Network</TableHeader>\n            <TableHeader>Network ID</TableHeader>\n            <TableHeader>Actions</TableHeader>\n          </tr>\n        </thead>\n        <tbody>\n          {routes.length === 0 ? (\n            <TableRow>\n              <TableCell colSpan={4}>No routes available</TableCell>\n            </TableRow>\n          ) : (\n            routes\n              .filter(route => !(route.description && route.description.split(',').some(tag => ['persistent', 'ui_interface'].includes(tag.trim()))))\n              .sort((a, b) => {\n                const peerNameA = peers.find(p => p.id === a.peer)?.name.toUpperCase() || '';\n                const peerNameB = peers.find(p => p.id === b.peer)?.name.toUpperCase() || '';\n                return peerNameA.localeCompare(peerNameB);\n              })\n              .map((route, index) => (\n                <TableRow key={index}>\n                  <TableCell>{peers.find(p => p.id === route.peer)?.name.toUpperCase()}</TableCell>\n                  <TableCell>{route.network}</TableCell>\n                  <TableCell>{route.network_id}</TableCell>\n                  <TableCell>\n                    <Button \n                      $danger\n                      $last\n                      onClick={() => handleDeleteRoute(route.id)}\n                      disabled={deletingRouteId}\n                    >\n                      {deletingRouteId === route.id ? \"Deleting...\" : \"Delete\"}\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))\n          )}\n        </tbody>\n      </Table>\n    </div>\n  );\n\n  return (\n    <TwoPaneModal\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Manage Routes\"\n      leftPaneTitle=\"Add New Route\"\n      rightPaneTitle=\"Existing Routes\"\n      leftPane={AddRoutePane}\n      rightPane={ExistingRoutesPane}\n    />\n  );\n};\n\nexport default RoutesModal; ","import { useQuery } from '@tanstack/react-query';\nimport { getInterfaces } from '../service/warhammer';\n\nconst useNetworkInterfacesQuery = (options = {}) => {\n  const { pausePolling = false, ...queryOptions } = options;\n  \n  return useQuery({\n    queryKey: ['network-interfaces'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const interfaces = await getInterfaces();\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow network interfaces response: ${responseTime}ms`);\n        }\n        \n        return interfaces;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        \n        // Handle timeout errors specifically\n        if (error.message === 'Request timed out') {\n          console.warn(`Network interfaces query timed out after ${responseTime}ms`);\n          throw new Error(`Network interfaces request timed out after ${responseTime}ms`);\n        }\n        \n        console.error(`Network interfaces query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      // Pause polling if requested\n      if (pausePolling) {\n        return false;\n      }\n      \n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's a timeout error, slow down polling\n      if (error?.message?.includes('timed out')) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data) {\n        return 5000; // 5 seconds\n      }\n      \n      // Default polling interval\n      return 10000; // 10 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on timeout errors after 1 attempt\n      if (error?.message?.includes('timed out') && failureCount >= 1) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 5 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      if (error.message?.includes('timed out')) {\n        console.warn('Network interfaces query timed out:', error.message);\n      } else {\n        console.error('Network interfaces query error:', error);\n      }\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug('Network interfaces updated:', data);\n    },\n    \n    ...queryOptions,\n  });\n};\n\nexport default useNetworkInterfacesQuery; ","import { useQuery } from '@tanstack/react-query';\nimport { getGsmConnections } from '../service/warhammer';\n\nconst useGsmConnectionsQuery = (options = {}) => {\n  const { pausePolling = false, ...queryOptions } = options;\n  \n  return useQuery({\n    queryKey: ['gsm-connections'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const connections = await getGsmConnections();\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow GSM connections response: ${responseTime}ms`);\n        }\n        \n        return connections;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        \n        // Handle timeout errors specifically\n        if (error.message === 'Request timed out') {\n          console.warn(`GSM connections query timed out after ${responseTime}ms`);\n          throw new Error(`GSM connections request timed out after ${responseTime}ms`);\n        }\n        \n        console.error(`GSM connections query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      // Pause polling if requested\n      if (pausePolling) {\n        return false;\n      }\n      \n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's a timeout error, slow down polling\n      if (error?.message?.includes('timed out')) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data) {\n        return 5000; // 5 seconds\n      }\n      \n      // Default polling interval\n      return 10000; // 10 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on timeout errors after 1 attempt\n      if (error?.message?.includes('timed out') && failureCount >= 1) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 5 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      if (error.message?.includes('timed out')) {\n        console.warn('GSM connections query timed out:', error.message);\n      } else {\n        console.error('GSM connections query error:', error);\n      }\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug('GSM connections updated:', data);\n    },\n    \n    ...queryOptions,\n  });\n};\n\nexport default useGsmConnectionsQuery; ","import { useQuery } from '@tanstack/react-query';\nimport { getBridgedStatus } from '../service/warhammer';\n\nconst useBridgedStatusQuery = (options = {}) => {\n  const { pausePolling = false, ...queryOptions } = options;\n  \n  return useQuery({\n    queryKey: ['bridged-status'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const status = await getBridgedStatus();\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow bridged status response: ${responseTime}ms`);\n        }\n        \n        return status?.bridged;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        \n        // Handle timeout errors specifically\n        if (error.message === 'Request timed out') {\n          console.warn(`Bridged status query timed out after ${responseTime}ms`);\n          throw new Error(`Bridged status request timed out after ${responseTime}ms`);\n        }\n        \n        console.error(`Bridged status query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      // Pause polling if requested\n      if (pausePolling) {\n        return false;\n      }\n      \n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's a timeout error, slow down polling\n      if (error?.message?.includes('timed out')) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data) {\n        return 5000; // 5 seconds\n      }\n      \n      // Default polling interval\n      return 10000; // 10 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on timeout errors after 1 attempt\n      if (error?.message?.includes('timed out') && failureCount >= 1) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 5 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      if (error.message?.includes('timed out')) {\n        console.warn('Bridged status query timed out:', error.message);\n      } else {\n        console.error('Bridged status query error:', error);\n      }\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug('Bridged status updated:', data);\n    },\n    \n    ...queryOptions,\n  });\n};\n\nexport default useBridgedStatusQuery; ","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalTitle,\n  CloseButton,\n  Button,\n} from '../../styles/components/Modal.styles';\nimport useToast from '../../hooks/useToast';\n\nconst JsonContainer = styled.div`\n  background: ${({ theme }) => theme.colors.background.base};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: ${({ theme }) => theme.spacing.medium};\n  margin: ${({ theme }) => theme.spacing.medium} 0;\n  max-height: 400px;\n  overflow-y: auto;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-break: break-word;\n`;\n\nconst JsonContent = styled.pre`\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: ${({ theme }) => theme.spacing.large};\n`;\n\nconst CopyButton = styled(Button)`\n  margin-right: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst DescriptionText = styled.div`\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst JsonDumpModal = ({ isOpen, onClose, data, title = \"JSON Data\" }) => {\n  const { showSuccess, showError } = useToast();\n  \n  const handleCopyToClipboard = () => {\n    try {\n      const jsonString = JSON.stringify(data, null, 2);\n      navigator.clipboard.writeText(jsonString);\n      showSuccess('JSON data copied to clipboard');\n    } catch (error) {\n      console.error('Failed to copy to clipboard:', error);\n      showError('Failed to copy to clipboard');\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <ModalOverlay onClick={onClose}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <ModalHeader>\n          <ModalTitle>{title}</ModalTitle>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </ModalHeader>\n\n        <DescriptionText>\n          This is the complete cellular status data from the server API, including hardware information, \n          network details, signal metrics, SIM data, and system configuration.\n        </DescriptionText>\n\n        <JsonContainer>\n          <JsonContent>\n            {JSON.stringify(data, null, 2)}\n          </JsonContent>\n        </JsonContainer>\n\n        <ButtonContainer>\n          <CopyButton onClick={handleCopyToClipboard}>\n            Copy to Clipboard\n          </CopyButton>\n          <Button onClick={onClose}>\n            Close\n          </Button>\n        </ButtonContainer>\n      </ModalContent>\n    </ModalOverlay>\n  );\n};\n\nexport default JsonDumpModal; ","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useQueryClient } from '@tanstack/react-query';\nimport _ from 'lodash';\nimport { useLicense } from '../../context/LicenseContext';\nimport TwoPaneModal from '../common/TwoPaneModal';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Select,\n  Button,\n  Hr,\n} from '../../styles/components/Modal.styles';\nimport {\n  Table,\n  TableHeader,\n  TableRow,\n  TableCell\n} from '../../styles/components/Table.styles';\nimport {\n  addInterfaceIp,\n  removeIp,\n  addGsmConnection,\n  toggleGsmConnection,\n  deleteGsmConnection,\n  clearError,\n  toggleBridge,\n  toggleModem,\n} from '../../redux/slices/networkSlice';\nimport styled from 'styled-components';\nimport useToast from '../../hooks/useToast';\nimport useGsmStatusQuery from '../../hooks/useGsmStatusQuery';\nimport useNetworkInterfacesQuery from '../../hooks/useNetworkInterfacesQuery';\nimport useGsmConnectionsQuery from '../../hooks/useGsmConnectionsQuery';\nimport useBridgedStatusQuery from '../../hooks/useBridgedStatusQuery';\nimport { useEthernetModeMutation, useEthernetStaticIpsMutation } from '../../hooks/useEthernetInterfaceStatusQuery';\nimport { usePollingPause } from '../../context/PollingPauseContext';\nimport JsonDumpModal from './JsonDumpModal';\n\n\nconst SectionContainer = styled.div`\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n\n  h4 {\n    color: ${({ theme }) => theme.colors.text.primary};\n    font-size: 1em;\n    font-weight: 500;\n    letter-spacing: 1px;\n    margin-bottom: ${({ theme }) => theme.spacing.small};\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst BridgeButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: ${({ theme }) => theme.spacing.medium} 0;\n\n  button {\n    min-width: 200px;\n  }\n`;\n\nconst DeleteButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.danger};\n  cursor: pointer;\n  padding: 0 4px;\n  font-size: 14px;\n  opacity: 0.8;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst StatusItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.small};\n\n  label {\n    color: ${({ theme }) => theme.colors.text.muted};\n    font-size: ${({ theme }) => theme.typography.sizes.small};\n  }\n\n  span {\n    color: ${({ theme }) => theme.colors.text.primary};\n    font-weight: ${({ theme }) => theme.typography.weights.medium};\n  }\n`;\n\n// Static IP Configuration Component\nconst StaticIpConfig = ({ interfaceName, currentIps, onUpdate, isLoading, isDhcpEnabled }) => {\n  const [staticIps, setStaticIps] = React.useState(currentIps);\n  const [newIp, setNewIp] = React.useState('');\n  const [ipError, setIpError] = React.useState('');\n\n  const handleAddIp = () => {\n    if (!newIp.trim()) return;\n    \n    // Validate IP format\n    if (!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(newIp.trim())) {\n      setIpError('Invalid IP address format');\n      return;\n    }\n    \n    setIpError('');\n    setStaticIps([...staticIps, newIp.trim()]);\n    setNewIp('');\n  };\n\n  const handleRemoveIp = (ipToRemove) => {\n    setStaticIps(staticIps.filter(ip => ip !== ipToRemove));\n  };\n\n  const handleSave = () => {\n    onUpdate(interfaceName, staticIps);\n  };\n\n  return (\n    <div style={{ padding: '8px', backgroundColor: '#f8f9fa', borderRadius: '4px', border: '1px solid #dee2e6' }}>\n      {isDhcpEnabled ? (\n        <div style={{ textAlign: 'center', color: '#666', fontSize: '10px' }}>\n          Disable DHCP first to configure static IPs\n        </div>\n      ) : (\n        <>\n          <div style={{ marginBottom: '8px' }}>\n            <div style={{ display: 'flex', gap: '4px', marginBottom: '4px' }}>\n              <Input\n                type=\"text\"\n                placeholder=\"192.168.1.100\"\n                value={newIp}\n                onChange={(e) => setNewIp(e.target.value)}\n                style={{ fontSize: '10px', padding: '2px 4px', height: '20px' }}\n              />\n              <Button\n                onClick={handleAddIp}\n                disabled={!newIp.trim()}\n                style={{ fontSize: '10px', padding: '2px 6px', height: '20px', minWidth: 'auto' }}\n              >\n                +\n              </Button>\n            </div>\n            {ipError && <div style={{ color: 'red', fontSize: '9px' }}>{ipError}</div>}\n          </div>\n          \n          <div style={{ marginBottom: '8px' }}>\n            {staticIps.map((ip, index) => (\n              <div key={index} style={{ display: 'flex', alignItems: 'center', gap: '4px', marginBottom: '2px' }}>\n                <span style={{ fontSize: '10px', color: '#666' }}>{ip}</span>\n                <button\n                  onClick={() => handleRemoveIp(ip)}\n                  style={{ \n                    background: 'none', \n                    border: 'none', \n                    color: '#dc3545', \n                    cursor: 'pointer', \n                    fontSize: '8px',\n                    padding: '0 2px'\n                  }}\n                  title=\"Remove IP\"\n                >\n                  \n                </button>\n              </div>\n            ))}\n          </div>\n          \n          <Button\n            onClick={handleSave}\n            disabled={isLoading}\n            style={{ fontSize: '10px', padding: '2px 6px', height: '20px', minWidth: 'auto' }}\n          >\n            {isLoading ? 'Saving...' : 'Save'}\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst StatusGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: ${({ theme }) => theme.spacing.medium};\n  margin-top: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst JsonDumpLink = styled.a`\n  color: ${({ theme }) => theme.colors.accent};\n  text-decoration: none;\n  cursor: pointer;\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.small};\n  opacity: 0.8;\n  transition: opacity 0.2s ease;\n\n  &:hover {\n    opacity: 1;\n    text-decoration: underline;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n`;\n\nconst JsonDumpStatusItem = styled(StatusItem)`\n  grid-column: 1 / -1;\n  text-align: center;\n  border-top: 1px solid ${({ theme }) => theme.colors.border};\n  padding-top: ${({ theme }) => theme.spacing.small};\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.small};\n  \n  label {\n    display: none;\n  }\n  \n  span {\n    margin: 0;\n  }\n`;\n\nconst ModemToggle = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst NetworkSettingsModal = ({ isOpen, onClose }) => {\n  const dispatch = useDispatch();\n  const { canAccessNetwork } = useLicense();\n  const { showSuccess, showError } = useToast();\n  const queryClient = useQueryClient();\n  const { isPollingPaused, pausePolling, resumePolling } = usePollingPause();\n  const [newIpAddress, setNewIpAddress] = useState('');\n  const [newConnection, setNewConnection] = useState({ name: '', apn: '', username: '', password: '' });\n  const [ipError, setIpError] = useState(null);\n  const [showJsonDump, setShowJsonDump] = useState(false);\n  const [isBridgeToggleLoading, setIsBridgeToggleLoading] = useState(false);\n\n  // Use React Query hooks for data fetching\n  const { data: gsmStatus, isLoading: isLoadingGsmStatus, error: gsmStatusError } = useGsmStatusQuery({ \n    pausePolling: isPollingPaused \n  });\n  const { data: gsmConnections, isLoading: isLoadingGsmConnections, error: gsmConnectionsError } = useGsmConnectionsQuery({ \n    pausePolling: isPollingPaused \n  });\n  const { data: bridgedStatus, isLoading: isLoadingBridgedStatus, error: bridgedStatusError } = useBridgedStatusQuery({ \n    pausePolling: isPollingPaused \n  });\n  const ethernetModeMutation = useEthernetModeMutation();\n  const ethernetStaticIpsMutation = useEthernetStaticIpsMutation();\n\n  // Use the existing network interfaces hook\n  const { data: interfaces, isLoading: isLoadingInterfaces, error: interfacesError } = useNetworkInterfacesQuery({ \n    pausePolling: isPollingPaused \n  });\n\n  // Clear errors when modal opens\n  React.useEffect(() => {\n    if (isOpen) {\n      dispatch(clearError());\n    }\n  }, [isOpen, dispatch]);\n\n  const handleIpChange = (e) => {\n    setNewIpAddress(e.target.value);\n    setIpError(null);\n  };\n\n  const handleAddIp = async (e) => {\n    e.preventDefault();\n    if (!newIpAddress) {\n      return;\n    }\n\n    if (!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(newIpAddress)) {\n      setIpError('Invalid IP address');\n      return;\n    }\n\n    try {\n      await dispatch(addInterfaceIp({\n        interfaceName: 'br0',\n        ip: newIpAddress,\n      })).unwrap();\n      showSuccess(`IP \"${newIpAddress}\" was successfully added`);\n      setNewIpAddress('');\n      \n      // Invalidate network interfaces to refresh the IP address list\n      queryClient.invalidateQueries({ queryKey: ['network-interfaces'] });\n    } catch (error) {\n      showError(`Failed to add IP: ${error.message || 'Unknown error'}`);\n      console.error('Failed to add IP:', error);\n    }\n  };\n\n  const handleRemoveIp = async (interfaceName, ip) => {\n    try {\n      await dispatch(removeIp({ interfaceName, ip })).unwrap();\n      showSuccess(`IP \"${ip}\" was successfully removed`);\n      \n      // Invalidate network interfaces to refresh the IP address list\n      queryClient.invalidateQueries({ queryKey: ['network-interfaces'] });\n    } catch (error) {\n      showError(`Failed to remove IP: ${error.message || 'Unknown error'}`);\n      console.error('Failed to remove IP:', error);\n    }\n  };\n\n  const handleAddConnection = async (e) => {\n    e.preventDefault();\n    try {\n      await dispatch(addGsmConnection(_.pickBy(newConnection))).unwrap();\n      setNewConnection({ name: '', apn: '', username: '', password: '' });\n      showSuccess(`APN \"${newConnection.name}\" was successfully added`);\n    } catch (error) {\n      showError(`Failed to add APN: ${error.message || 'Unknown error'}`);\n      console.error('Failed to add connection:', error);\n    }\n  };\n\n  const handleToggleConnection = async (connection) => {\n    try {\n      await dispatch(toggleGsmConnection({\n        name: connection.name,\n        connected: connection.connected,\n      })).unwrap();\n      showSuccess(`${connection.name} was successfully ${connection.connected ? 'disconnected' : 'connected'}`);\n    } catch (error) {\n      showError(`Failed to ${connection.connected ? 'disconnect' : 'connect'} ${connection.name}: ${error.message || 'Unknown error'}`);\n      console.error('Failed to toggle connection:', error);\n    }\n  };\n\n  const handleDeleteConnection = async (connection) => {\n    try {\n      await dispatch(deleteGsmConnection(connection.name)).unwrap();\n      showSuccess(`APN \"${connection.name}\" was successfully deleted`);\n    } catch (error) {\n      showError(`Failed to delete APN \"${connection.name}\": ${error.message || 'Unknown error'}`);\n      console.error('Failed to delete connection:', error);\n    }\n  };\n\n  const handleBridgeToggle = async () => {\n    try {\n      setIsBridgeToggleLoading(true);\n      pausePolling(); // Pause all network polling globally\n      \n      await dispatch(toggleBridge(bridgedStatus)).unwrap();\n      showSuccess(`Network bridge was successfully ${bridgedStatus ? 'disabled' : 'enabled'}`);\n      \n      // Invalidate queries to refresh the updated interface list and bridge status\n      queryClient.invalidateQueries({ queryKey: ['bridged-status'] });\n      queryClient.invalidateQueries({ queryKey: ['network-interfaces'] });\n    } catch (error) {\n      showError(`Failed to ${bridgedStatus ? 'disable' : 'enable'} network bridge: ${error.message || 'Unknown error'}`);\n      console.error('Failed to toggle bridge:', error);\n    } finally {\n      setIsBridgeToggleLoading(false);\n      resumePolling(); // Resume all network polling\n    }\n  };\n\n  const handleModemToggle = async () => {\n    try {\n      await dispatch(toggleModem(gsmStatus?.modem_state === 'enabled')).unwrap();\n      showSuccess(`Cellular modem was successfully ${gsmStatus?.modem_state === 'enabled' ? 'disabled' : 'enabled'}`);\n    } catch (error) {\n      showError(`Failed to ${gsmStatus?.modem_state === 'enabled' ? 'disable' : 'enable'} cellular modem: ${error.message || 'Unknown error'}`);\n      console.error('Failed to toggle modem:', error);\n    }\n  };\n\n  const handleEthernetDhcpToggle = async (interfaceName, currentDhcpEnabled) => {\n    try {\n      pausePolling(); // Pause all network polling globally\n      const newMode = currentDhcpEnabled ? 'static' : 'dhcp';\n      await ethernetModeMutation.mutateAsync({ interfaceName, mode: newMode });\n      showSuccess(`${interfaceName} was successfully set to ${newMode} mode`);\n    } catch (error) {\n      showError(`Failed to set ${interfaceName} mode: ${error.message || 'Unknown error'}`);\n      console.error(`Failed to set ${interfaceName} mode:`, error);\n    } finally {\n      resumePolling(); // Resume all network polling\n    }\n  };\n\n  const handleStaticIpUpdate = async (interfaceName, staticIps) => {\n    try {\n      pausePolling(); // Pause all network polling globally\n      await ethernetStaticIpsMutation.mutateAsync({ interfaceName, staticIps });\n      showSuccess(`${interfaceName} static IPs updated successfully`);\n    } catch (error) {\n      showError(`Failed to update ${interfaceName} static IPs: ${error.message || 'Unknown error'}`);\n      console.error(`Failed to update ${interfaceName} static IPs:`, error);\n    } finally {\n      resumePolling(); // Resume all network polling\n    }\n  };\n\n  // If user can't access network settings, show restricted message\n  if (!canAccessNetwork) {\n    return (\n      <TwoPaneModal\n        isOpen={isOpen}\n        onClose={onClose}\n        title=\"Network Settings\"\n        leftPaneTitle=\"Network Management\"\n        leftPane={\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '20px',\n            textAlign: 'center',\n            color: '#aaa'\n          }}>\n            <h3>Feature Unavailable</h3>\n            <p>Please activate your license to access network management.</p>\n          </div>\n        }\n        singlePane={true}\n      />\n    );\n  }\n\n  const NetworkInterfacesPane = (\n    <div>\n      \n\n      <SectionContainer>\n        <BridgeButtonContainer>\n          <Button\n            onClick={handleBridgeToggle}\n            disabled={isBridgeToggleLoading}\n          >\n            {isBridgeToggleLoading \n              ? \"Updating...\" \n              : bridgedStatus\n                ? \"Disable Bridge\"\n                : \"Enable Bridge\"\n            }\n          </Button>\n        </BridgeButtonContainer>\n      </SectionContainer>\n\n\n\n      <SectionContainer>\n        <h4>IP Addresses & DHCP</h4>\n        <Hr />\n        <form onSubmit={handleAddIp}>\n          <FormGroup>\n            <Label>IP Address</Label>\n            <Input\n              type=\"text\"\n              placeholder=\"e.g. 192.168.1.1\"\n              value={newIpAddress}\n              onChange={handleIpChange}\n            />\n            {ipError && <p style={{ color: 'red' }}>{ipError}</p>}\n          </FormGroup>\n\n          <Button \n            type=\"submit\" \n            disabled={isLoadingInterfaces}\n          >\n            {isLoadingInterfaces ? \"Adding IP...\" : \"Add IP\"}\n          </Button>\n        </form>\n\n        <Table>\n          <thead>\n            <tr>\n              <TableHeader>Interface</TableHeader>\n              <TableHeader>IP Addresses</TableHeader>\n              <TableHeader>DHCP</TableHeader>\n            </tr>\n          </thead>\n          <tbody>\n            {interfaces && Object.values(interfaces)\n              .sort((a, b) => (a.order || 999) - (b.order || 999))\n              .map(iface => (\n              <TableRow key={iface.interface_name}>\n                <TableCell>{iface.display_name}</TableCell>\n                <TableCell>\n                  {_.without(iface?.addresses, ..._.get(iface, 'hidden_addresses', [])).map((ip, index) => (\n                    <div key={ip}>\n                      {ip}\n                      {iface.editable && !_.includes(iface.immutable_addresses, ip) && (\n                        <DeleteButton\n                          onClick={() => handleRemoveIp(iface.interface_name, ip)}\n                          disabled={isLoadingInterfaces}\n                          title=\"Remove IP\"\n                        >\n                          { isLoadingInterfaces ? \"deleting...\" : \"delete\" }\n                        </DeleteButton>\n                      )}\n                    </div>\n                  ))}\n                </TableCell>\n                <TableCell>\n                  {/* Only show DHCP toggle for ethernet interfaces */}\n                  {(iface.interface_name === 'br0' || iface.interface_name?.startsWith('enp')) ? (\n                    <div>\n                      <div style={{ marginBottom: '8px', fontSize: '12px', color: '#666' }}>\n                        {iface.dhcp_enabled ? 'DHCP Enabled' : `Static IP (${(iface.addresses || []).length} configured)`}\n                      </div>\n                      {iface.warning && (\n                        <div style={{ \n                          padding: '6px', \n                          marginBottom: '8px', \n                          backgroundColor: '#fff3cd', \n                          border: '1px solid #ffeaa7', \n                          borderRadius: '4px',\n                          color: '#856404',\n                          fontSize: '11px'\n                        }}>\n                          {iface.warning}\n                        </div>\n                      )}\n                      <Button\n                        onClick={() => handleEthernetDhcpToggle(iface.interface_name, iface.dhcp_enabled)}\n                        disabled={isLoadingInterfaces || ethernetModeMutation.isPending || !iface.is_safe_to_modify}\n                        style={{ \n                          fontSize: '11px',\n                          padding: '4px 8px',\n                          backgroundColor: iface.dhcp_enabled ? '#f44336' : '#4CAF50',\n                          color: 'white',\n                          border: 'none'\n                        }}\n                      >\n                        {isLoadingInterfaces || ethernetModeMutation.isPending\n                          ? \"Updating...\" \n                          : !iface.is_safe_to_modify\n                            ? \"Unsafe\"\n                            : iface.dhcp_enabled \n                              ? \"Disable DHCP\" \n                              : \"Enable DHCP\"\n                        }\n                      </Button>\n                      \n                      {/* Static IP Configuration (compact) - Always show for ethernet interfaces */}\n                      <div style={{ marginTop: '8px', fontSize: '11px' }}>\n                        <details style={{ cursor: 'pointer' }}>\n                          <summary style={{ color: '#666', marginBottom: '4px' }}>\n                            {iface.dhcp_enabled ? 'Static IPs (DHCP Enabled)' : `Static IPs (${(iface.addresses || []).length} configured)`}\n                          </summary>\n                          <StaticIpConfig \n                            interfaceName={iface.interface_name}\n                            currentIps={iface.addresses || []}\n                            onUpdate={handleStaticIpUpdate}\n                            isLoading={ethernetStaticIpsMutation.isPending}\n                            isDhcpEnabled={iface.dhcp_enabled}\n                          />\n                        </details>\n                      </div>\n                      \n                      {/* Show polling pause indicator during DHCP/static IP operations */}\n                      {isPollingPaused && (ethernetModeMutation.isPending || ethernetStaticIpsMutation.isPending) && (\n                        <div style={{ \n                          marginTop: '6px', \n                          padding: '4px', \n                          backgroundColor: '#e3f2fd', \n                          border: '1px solid #2196f3', \n                          borderRadius: '3px',\n                          color: '#1976d2',\n                          fontSize: '10px',\n                          textAlign: 'center'\n                        }}>\n                           Polling paused during network configuration...\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <span style={{ color: '#999', fontSize: '12px' }}>N/A</span>\n                  )}\n                </TableCell>\n              </TableRow>\n            ))}\n          </tbody>\n        </Table>\n      </SectionContainer>\n    </div>\n  );\n\n  const CellularPane = (\n    <div>\n      <SectionContainer>\n        {/* <ModemToggle>\n          <Button\n            onClick={handleModemToggle}\n            disabled={isLoadingGsmStatus}\n          >\n            {isLoadingGsmStatus \n              ? \"Updating...\" \n              : gsmStatus.modem_state === 'enabled'\n                ? \"Disable Modem\"\n                : \"Enable Modem\"\n            }\n          </Button>\n        </ModemToggle> */}\n        <StatusGrid>\n          <StatusItem>\n            <label>Status</label>\n            <span>{gsmStatus?.status?.state || gsmStatus?.state || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Network Type</label>\n            <span>{gsmStatus?.network?.access_tech || gsmStatus?.access_tech || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Operator</label>\n            <span>{gsmStatus?.network?.operator_name || gsmStatus?.operator_name || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Signal Quality</label>\n            <span>{gsmStatus?.signal?.quality || gsmStatus?.signal_quality || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Power State</label>\n            <span>{gsmStatus?.status?.power_state || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Registration</label>\n            <span>{gsmStatus?.status?.registration || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>IMEI</label>\n            <span>{gsmStatus?.hardware?.imei || gsmStatus?.imei || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>IMSI</label>\n            <span>{gsmStatus?.sim?.imsi || gsmStatus?.imsi || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Phone Number</label>\n            <span>{gsmStatus?.network?.phone_number || gsmStatus?.phone_number || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Manufacturer</label>\n            <span>{gsmStatus?.hardware?.manufacturer || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Model</label>\n            <span>{gsmStatus?.hardware?.model || '-'}</span>\n          </StatusItem>\n          <StatusItem>\n            <label>Firmware</label>\n            <span>{gsmStatus?.hardware?.firmware_revision || '-'}</span>\n          </StatusItem>\n          <JsonDumpStatusItem>\n            <JsonDumpLink \n              onClick={(e) => {\n                e.preventDefault();\n                setShowJsonDump(true);\n              }}\n              style={{ pointerEvents: isLoadingGsmStatus || !gsmStatus ? 'none' : 'auto' }}\n            >\n              <span>&lt;&gt;</span>\n              <span>View Raw JSON Data</span>\n            </JsonDumpLink>\n          </JsonDumpStatusItem>\n        </StatusGrid>\n        \n        {/* LTE Signal Details */}\n        {gsmStatus?.signal?.lte && Object.keys(gsmStatus.signal.lte).length > 0 && (\n          <SectionContainer>\n            <h4>LTE Signal Details</h4>\n            <Hr />\n            <StatusGrid>\n              {gsmStatus.signal.lte.rssi && (\n                <StatusItem>\n                  <label>RSSI</label>\n                  <span>{gsmStatus.signal.lte.rssi} dBm</span>\n                </StatusItem>\n              )}\n              {gsmStatus.signal.lte.rsrq && (\n                <StatusItem>\n                  <label>RSRQ</label>\n                  <span>{gsmStatus.signal.lte.rsrq} dB</span>\n                </StatusItem>\n              )}\n              {gsmStatus.signal.lte.rsrp && (\n                <StatusItem>\n                  <label>RSRP</label>\n                  <span>{gsmStatus.signal.lte.rsrp} dBm</span>\n                </StatusItem>\n              )}\n              {gsmStatus.signal.lte.sn && (\n                <StatusItem>\n                  <label>Signal/Noise</label>\n                  <span>{gsmStatus.signal.lte.sn} dB</span>\n                </StatusItem>\n              )}\n            </StatusGrid>\n          </SectionContainer>\n        )}\n        \n        {/* SIM Information */}\n        {gsmStatus?.sim && (\n          <SectionContainer>\n            <h4>SIM Information</h4>\n            <Hr />\n            <StatusGrid>\n              <StatusItem>\n                <label>Active</label>\n                <span>{gsmStatus.sim.active === 'yes' ? 'Yes' : 'No'}</span>\n              </StatusItem>\n              <StatusItem>\n                <label>ICCID</label>\n                <span>{gsmStatus.sim.iccid || '-'}</span>\n              </StatusItem>\n              <StatusItem>\n                <label>Operator</label>\n                <span>{gsmStatus.sim.operator_name || '-'}</span>\n              </StatusItem>\n              <StatusItem>\n                <label>Operator ID</label>\n                <span>{gsmStatus.sim.operator_id || '-'}</span>\n              </StatusItem>\n              <StatusItem>\n                <label>Emergency Numbers</label>\n                <span>{gsmStatus.sim.emergency_numbers || '-'}</span>\n              </StatusItem>\n              <StatusItem>\n                <label>Group ID</label>\n                <span>{gsmStatus.sim.gid1 || '-'}</span>\n              </StatusItem>\n            </StatusGrid>\n          </SectionContainer>\n        )}\n      </SectionContainer>\n\n      <SectionContainer>\n        <h4>APN Configuration</h4>\n        <Hr />\n        <form onSubmit={handleAddConnection}>\n          <FormGroup>\n            <Label>Name</Label>\n            <Input\n              type=\"text\"\n              value={newConnection.name}\n              onChange={(e) => setNewConnection({...newConnection, name: e.target.value})}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label>APN</Label>\n            <Input\n              type=\"text\"\n              value={newConnection.apn}\n              onChange={(e) => setNewConnection({...newConnection, apn: e.target.value})}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label>Username</Label>\n            <Input\n              type=\"text\"\n              value={newConnection.username}\n              onChange={(e) => setNewConnection({...newConnection, username: e.target.value})}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label>Password</Label>\n            <Input\n              type=\"password\"\n              value={newConnection.password}\n              onChange={(e) => setNewConnection({...newConnection, password: e.target.value})}\n            />\n          </FormGroup>\n\n          <Button type=\"submit\" disabled={isLoadingGsmConnections}>\n            {isLoadingGsmConnections ? \"Adding APN...\" : \"Add APN\"}\n          </Button>\n        </form>\n\n        <Table>\n          <thead>\n            <tr>\n              <TableHeader>Name</TableHeader>\n              <TableHeader>Status</TableHeader>\n              <TableHeader>Actions</TableHeader>\n            </tr>\n          </thead>\n          <tbody>\n            {gsmConnections?.map(connection => (\n              <TableRow key={connection.connection_id}>\n                <TableCell>{connection.name}</TableCell>\n                <TableCell>{connection.connected ? \"Connected\" : \"Disconnected\"}</TableCell>\n                <TableCell>\n                  <Button\n                    onClick={() => handleToggleConnection(connection)}\n                    disabled={isLoadingGsmConnections}\n                  >\n                    {connection.connected ? \"Disconnect\" : \"Connect\"}\n                  </Button>\n                  <Button\n                    $last\n                    onClick={() => handleDeleteConnection(connection)}\n                    disabled={isLoadingGsmConnections}\n                  >\n                    {isLoadingGsmConnections ? \"Deleting...\" : \"Delete\"}\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </tbody>\n        </Table>\n        \n      </SectionContainer>\n    </div>\n  );\n\n  \n\n  return (\n    <>\n      <TwoPaneModal\n        isOpen={isOpen}\n        onClose={onClose}\n        title=\"Network Settings\"\n        leftPaneTitle=\"Network Mode\"\n        rightPaneTitle=\"Cellular APN Configuration\"\n        leftPane={NetworkInterfacesPane}\n        rightPane={CellularPane}\n      />\n      \n      <JsonDumpModal\n        isOpen={showJsonDump}\n        onClose={() => setShowJsonDump(false)}\n        data={gsmStatus}\n        title=\"Cellular Status - Complete JSON Data\"\n      />\n    </>\n  );\n};\n\nexport default NetworkSettingsModal; ","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { getEthernetInterfaceStatus, setEthernetMode, setEthernetStaticIps } from '../service/warhammer';\n\n// Main hook for querying any ethernet interface status\nexport const useEthernetInterfaceStatusQuery = (interfaceName, options = {}) => {\n  return useQuery({\n    queryKey: ['ethernet-interface-status', interfaceName],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const status = await getEthernetInterfaceStatus(interfaceName);\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow ${interfaceName} Ethernet status response: ${responseTime}ms`);\n        }\n        \n        return status;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        \n        // Handle timeout errors specifically\n        if (error.message === 'Request timed out') {\n          console.warn(`${interfaceName} Ethernet status query timed out after ${responseTime}ms`);\n          throw new Error(`${interfaceName} Ethernet status request timed out after ${responseTime}ms`);\n        }\n        \n        console.error(`${interfaceName} Ethernet status query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's a timeout error, slow down polling\n      if (error?.message?.includes('timed out')) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(30000 * failureCount, 300000); // 30 seconds to 5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data) {\n        return 5000; // 5 seconds\n      }\n      \n      // Default polling interval\n      return 10000; // 10 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on timeout errors after 1 attempt\n      if (error?.message?.includes('timed out') && failureCount >= 1) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 5 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      if (error.message?.includes('timed out')) {\n        console.warn(`${interfaceName} Ethernet status query timed out:`, error.message);\n      } else {\n        console.error(`${interfaceName} Ethernet status query error:`, error);\n      }\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug(`${interfaceName} Ethernet status updated:`, data);\n    },\n    \n    ...options,\n  });\n};\n\n// Hook for updating ethernet interface mode (DHCP/static)\nexport const useEthernetModeMutation = () => {\n  const queryClient = useQueryClient();\n  \n  return useMutation({\n    mutationFn: ({ interfaceName, mode }) => setEthernetMode(interfaceName, mode),\n    onSuccess: (data, { interfaceName }) => {\n      // Invalidate and refetch the specific interface status\n      queryClient.invalidateQueries({ queryKey: ['ethernet-interface-status', interfaceName] });\n      // Also invalidate network interfaces to refresh DHCP status and safety flags\n      queryClient.invalidateQueries({ queryKey: ['network-interfaces'] });\n    },\n    onError: (error) => {\n      console.error('Ethernet mode update failed:', error);\n    },\n  });\n};\n\n// Hook for setting static IP addresses on an interface\nexport const useEthernetStaticIpsMutation = () => {\n  const queryClient = useQueryClient();\n  \n  return useMutation({\n    mutationFn: ({ interfaceName, staticIps }) => setEthernetStaticIps(interfaceName, staticIps),\n    onSuccess: (data, { interfaceName }) => {\n      // Invalidate and refetch the specific interface status\n      queryClient.invalidateQueries({ queryKey: ['ethernet-interface-status', interfaceName] });\n      // Also invalidate network interfaces to refresh DHCP status and safety flags\n      queryClient.invalidateQueries({ queryKey: ['network-interfaces'] });\n    },\n    onError: (error) => {\n      console.error('Ethernet static IP update failed:', error);\n    },\n  });\n};\n\n\n\n// Default export for the main hook\nexport default useEthernetInterfaceStatusQuery;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport { useLicense } from '../../context/LicenseContext';\nimport { usePollingPause } from '../../context/PollingPauseContext';\nimport TwoPaneModal from '../common/TwoPaneModal';\nimport {\n  FormGroup,\n  Label,\n  Select,\n  Button,\n  Hr,\n} from '../../styles/components/Modal.styles';\nimport {\n  Table,\n  TableRow,\n  TableCell\n} from '../../styles/components/Table.styles';\nimport {\n  getPeers,\n  getRoutes,\n} from '../../redux/slices/vpnSlice';\nimport {\n  runSpeedTest,\n  clearResults,\n} from '../../redux/slices/performanceSlice';\nimport styled from 'styled-components';\nimport useToast from '../../hooks/useToast';\n\nconst ResultsContainer = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.large};\n`;\n\nconst ThroughputCell = styled(TableCell)`\n  span {\n    margin-right: ${({ theme }) => theme.spacing.large};\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nconst H4 = styled.h4`\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst PerformanceModal = ({ isOpen, onClose }) => {\n  const dispatch = useDispatch();\n  const { canAccessPerformance } = useLicense();\n  const { isPollingPaused } = usePollingPause();\n  const peers = useSelector((state) => state.vpn.peers);\n  const routes = useSelector((state) => state.vpn.routes);\n  const { running, testResult, error } = useSelector((state) => state.performance);\n  const { showSuccess, showError } = useToast();\n\n  const [formData, setFormData] = useState({\n    id: '',\n    ip: '',\n  });\n\n  useEffect(() => {\n    if (isOpen && canAccessPerformance && !isPollingPaused) {\n      dispatch(getPeers());\n      dispatch(getRoutes());\n      return () => dispatch(clearResults());\n    }\n  }, [isOpen, dispatch, canAccessPerformance, isPollingPaused]);\n\n  // If user can't access performance features, show restricted message\n  if (!canAccessPerformance) {\n    return (\n      <TwoPaneModal\n        isOpen={isOpen}\n        onClose={onClose}\n        title=\"Network Performance\"\n        leftPaneTitle=\"Speed Test\"\n        leftPane={\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '20px',\n            textAlign: 'center',\n            color: '#aaa'\n          }}>\n            <h3>Feature Unavailable</h3>\n            <p>Please activate your license to access performance testing.</p>\n          </div>\n        }\n        singlePane={true}\n      />\n    );\n  }\n\n  const connectedPeers = peers.filter(peer => peer.connected);\n\n  const handlePeerChange = (e) => {\n    const id = e?.target?.value;\n    const peer = _.find(peers, { id });\n    const peerRoutes = routes.filter(route => route.peer === peer?.id);\n    const uiRoute = _.find(\n      peerRoutes,\n      route => _.includes(_.split(route?.description, ','), 'ui_interface')\n    );\n    const ip = _.get(uiRoute, 'network', peer?.ip);\n\n    console.log('peer ip', ip);\n    console.log('peer', peer);\n    console.log('peerRoutes', peerRoutes);\n\n    setFormData({\n      id,\n      ip: _.split(ip, '/')[0],\n    });\n  };\n\n  const handleRunTest = async (e) => {\n    e.preventDefault();\n    dispatch(runSpeedTest(formData.ip));\n    showSuccess('Performance test started');\n  };\n\n  const TestForm = (\n    <div>\n      <form onSubmit={handleRunTest}>\n        <FormGroup>\n          <Label>Select Peer</Label>\n          <Select\n            value={formData.id}\n            onChange={handlePeerChange}\n          >\n            <option value=\"\">Select peer...</option>\n            {connectedPeers.map(peer => (\n              <option key={peer.id} value={peer.id}>\n                {peer?.name || `Peer ${peer.id}`}\n              </option>\n            ))}\n          </Select>\n        </FormGroup>\n\n        <Button type=\"submit\" disabled={!formData.id || running}>\n          {running ? \"Running Test...\" : \"Run Test\"}\n        </Button>\n      </form>\n\n      {testResult && (\n        <ResultsContainer>\n          <H4>Test Results</H4>\n          <Hr />\n          <Table>\n            <tbody>\n              <TableRow>\n                <TableCell><strong>Timestamp</strong></TableCell>\n                <TableCell>{testResult?.start?.timestamp?.time}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell><strong>Remote Host</strong></TableCell>\n                <TableCell>{testResult?.start?.connecting_to?.host}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell><strong>Number of Streams</strong></TableCell>\n                <TableCell>{testResult?.start?.test_start?.num_streams}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell><strong>Test Duration</strong></TableCell>\n                <TableCell>{testResult?.start?.test_start?.duration}s</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell><strong>Throughput</strong></TableCell>\n                <ThroughputCell>\n                  <span>\n                     {(testResult?.end?.sum_received?.bits_per_second / 1000000).toFixed(2)} Mbits/s\n                  </span>\n                  <span>\n                     {(testResult?.end?.sum_sent?.bits_per_second / 1000000).toFixed(2)} Mbits/s\n                  </span>\n                </ThroughputCell>\n              </TableRow>\n            </tbody>\n          </Table>\n        </ResultsContainer>\n      )}\n    </div>\n  );\n\n  return (\n    <TwoPaneModal\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Network Performance\"\n      leftPaneTitle=\"Speed Test\"\n      rightPaneTitle=\"\"\n      leftPane={TestForm}\n      rightPane={null}\n      singlePane\n    />\n  );\n};\n\nexport default PerformanceModal; ","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport {\n  useAuth\n} from '../../context/AuthContext'\nimport { Button, FormGroup, Label, Input } from '../../styles/components/Modal.styles';\nimport { Table, TableHeader, TableRow, TableCell, TableBody } from '../../styles/components/Table.styles';\nimport styled from 'styled-components';\nimport useToast from '../../hooks/useToast';\n\nimport {\n  fetchUsers,\n  activateUserAction,\n  deactivateUserAction,\n  deleteUserAction,\n  createUserAction,\n  clearError,\n  changePasswordAction,\n} from '../../redux/slices/userSlice';\n\nconst AddUserContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: flex-end;\n  margin-bottom: 1rem;\n`;\n\nconst InputGroup = styled(FormGroup)`\n  margin: 0;\n  flex: 1;\n`;\n\nconst ActionContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  height: 100%;\n`;\n\nconst PasswordChangeContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background: ${({ theme }) => theme.colors.background.lighter};\n  border-top: 1px solid ${({ theme }) => theme.colors.border};\n`;\n\nconst PasswordInputGroup = styled(InputGroup)`\n  margin-bottom: 0;\n`;\n\nconst UserManagement = () => {\n  const { userInfo } = useAuth();\n  const { userId } = userInfo;\n\n  const dispatch = useDispatch();\n  const { showSuccess, showError } = useToast();\n  const users = useSelector((state) => state.users.data);\n  const creatingUser = useSelector((state) => state.users.creatingUser);\n  const createError = useSelector((state) => state.users.createError);\n  const [newUser, setNewUser] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [passwordMismatch, setPasswordMismatch] = useState(false);\n  const [expandedUserId, setExpandedUserId] = useState(null);\n  const [passwordForm, setPasswordForm] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n  });\n\n  const handleInputChange = (field) => (e) => {\n    setPasswordMismatch(false);\n    dispatch(clearError());\n    setNewUser(prev => ({\n      ...prev,\n      [field]: e.target.value\n    }));\n  };\n\n  const handlePasswordChange = (field) => (e) => {\n    dispatch(clearError());\n    setPasswordForm(prev => ({\n      ...prev,\n      [field]: e.target.value\n    }));\n  };\n\n  useEffect(() => {\n    dispatch(fetchUsers());\n  }, [dispatch]);\n\n  const handleCreateUser = async () => {\n    setPasswordMismatch(false);\n    \n    if (newUser.password !== newUser.confirmPassword) {\n      setPasswordMismatch(true);\n      return;\n    }\n    \n    try {\n      await dispatch(createUserAction({\n        username: newUser.username,\n        password: newUser.password,\n      })).unwrap();\n\n      // Clear form on success\n      setNewUser({\n        username: '',\n        password: '',\n        confirmPassword: '',\n      });\n      showSuccess('User created successfully');\n    } catch (err) {\n      // Error is handled by Redux\n      console.error('Failed to create user:', err);\n      showError(`Failed to create user: ${err.message || 'Unknown error'}`);\n    }\n  };\n\n  const handleUpdatePassword = async (userId) => {\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      // Handle mismatch\n      return;\n    }\n\n    try {\n      await dispatch(changePasswordAction({\n        userId,\n        currentPassword: passwordForm.currentPassword,\n        newPassword: passwordForm.newPassword,\n      })).unwrap();\n\n      // Clear form and collapse on success\n      setPasswordForm({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n      });\n      setExpandedUserId(null);\n      showSuccess('Password updated successfully');\n    } catch (err) {\n      console.error('Failed to update password:', err);\n      showError(`Failed to update password: ${err.message || 'Unknown error'}`);\n    }\n  };\n\n  const togglePasswordChange = (userId) => {\n    if (expandedUserId === userId) {\n      setExpandedUserId(null);\n      setPasswordForm({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n      });\n    } else {\n      setExpandedUserId(userId);\n    }\n  };\n\n  // Function to handle deactivating a user\n  const handleDeactivateUser = (user) => {\n    dispatch(deactivateUserAction(user.id)).catch(err => {\n      showError(`Failed to deactivate user: ${err.message || 'Unknown error'}`);\n    });\n    showSuccess('User deactivated successfully');\n  };\n\n  // Function to handle activating a user\n  const handleActivateUser = (user) => {\n    dispatch(activateUserAction(user.id)).catch(err => {\n      showError(`Failed to activate user: ${err.message || 'Unknown error'}`);\n    });\n    showSuccess('User activated successfully');\n  };\n\n  const handleDeleteUser = (user) => {\n    dispatch(deleteUserAction(user.id)).catch(err => {\n      showError(`Failed to delete user: ${err.message || 'Unknown error'}`);\n    });\n    showSuccess('User deleted successfully');\n  };\n\n  const columns = [\n    { key: 'username', label: 'Username' },\n    { key: 'active', label: 'Active' },\n    { key: 'roles', label: 'Role' },\n    { key: 'last_login_at', label: 'Last Login' },\n    { key: 'actions', label: 'Actions' },\n  ];\n\n  return (\n    <div>\n      <AddUserContainer>\n        <InputGroup>\n          <Label>Username</Label>\n          <Input\n            type=\"text\"\n            value={newUser.username}\n            onChange={handleInputChange('username')}\n            placeholder=\"Enter username\"\n          />\n        </InputGroup>\n        <InputGroup>\n          <Label>Password</Label>\n          <Input\n            type=\"password\"\n            value={newUser.password}\n            onChange={handleInputChange('password')}\n            placeholder=\"Enter password\"\n          />\n        </InputGroup>\n        <InputGroup>\n          <Label>Confirm</Label>\n          <Input\n            type=\"password\"\n            value={newUser.confirmPassword}\n            onChange={handleInputChange('confirmPassword')}\n            placeholder=\"Confirm password\"\n          />\n        </InputGroup>\n        <Button\n          onClick={handleCreateUser}\n          disabled={creatingUser || !newUser.username || !newUser.password || !newUser.confirmPassword}\n        >\n          {creatingUser ? 'Adding...' : 'Add User'}\n        </Button>\n      </AddUserContainer>\n\n      {(passwordMismatch || createError) && (\n        <FormGroup>\n          <div style={{ color: '#dc3545' }}>\n            {passwordMismatch ? 'Passwords do not match' : createError}\n          </div>\n        </FormGroup>\n      )}\n\n      <Table>\n        {columns.map(col => (\n          <TableHeader key={col.key}>{col.label}</TableHeader>\n        ))}\n        <TableBody>\n          {users.map(item => (\n            <React.Fragment key={item.id}>\n              <TableRow>\n                <TableCell>{item.username}</TableCell>\n                <TableCell>{item.active ? 'Yes' : 'No'}</TableCell>\n                <TableCell>{item.roles}</TableCell>\n                <TableCell>\n                  {item.last_login_at ? new Date(item.last_login_at * 1000).toLocaleString() : 'Never logged in'}\n                </TableCell>\n                <TableCell>\n                  <ActionContainer>\n                    {item.active && (\n                      <Button\n                        onClick={() => togglePasswordChange(item.id)}\n                        active={expandedUserId === item.id}\n                      >\n                        Change Password\n                      </Button>\n                    )}\n                    {item.id !== userId && (\n                      <>\n                        {item.active ? (\n                          <Button\n                            danger\n                            onClick={() => handleDeactivateUser(item)}\n                          >\n                            Deactivate\n                          </Button>\n                        ) : (\n                          <Button\n                            onClick={() => handleActivateUser(item)}\n                          >\n                            Activate\n                          </Button>\n                        )}\n                        <Button\n                          danger\n                          last\n                          onClick={() => handleDeleteUser(item)}\n                        >\n                          Delete\n                        </Button>\n                      </>\n                    )}\n                  </ActionContainer>\n                </TableCell>\n              </TableRow>\n              {expandedUserId === item.id && (\n                <TableRow>\n                  <TableCell colSpan={5}>\n                    <PasswordChangeContainer>\n                      {item.id === userId && (\n                        <PasswordInputGroup>\n                          <Label>Current Password</Label>\n                          <Input\n                            type=\"password\"\n                            value={passwordForm.currentPassword}\n                            onChange={handlePasswordChange('currentPassword')}\n                            placeholder=\"Enter current password\"\n                          />\n                        </PasswordInputGroup>\n                      )}\n                      <PasswordInputGroup>\n                        <Label>New Password</Label>\n                        <Input\n                          type=\"password\"\n                          value={passwordForm.newPassword}\n                          onChange={handlePasswordChange('newPassword')}\n                          placeholder=\"Enter new password\"\n                        />\n                      </PasswordInputGroup>\n                      <PasswordInputGroup>\n                        <Label>Confirm Password</Label>\n                        <Input\n                          type=\"password\"\n                          value={passwordForm.confirmPassword}\n                          onChange={handlePasswordChange('confirmPassword')}\n                          placeholder=\"Confirm new password\"\n                        />\n                      </PasswordInputGroup>\n                      <Button\n                        onClick={() => handleUpdatePassword(item.id)}\n                        disabled={\n                          (item.id === userId && !passwordForm.currentPassword) || \n                          !passwordForm.newPassword || \n                          !passwordForm.confirmPassword\n                        }\n                      >\n                        Update\n                      </Button>\n                    </PasswordChangeContainer>\n                  </TableCell>\n                </TableRow>\n              )}\n            </React.Fragment>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default UserManagement;","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAuth } from '../../context/AuthContext';\nimport styled from 'styled-components';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Button,\n} from '../../styles/components/Modal.styles';\nimport { changePasswordAction, clearError } from '../../redux/slices/userSlice';\nimport useToast from '../../hooks/useToast';\n\nconst PasswordChangeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.medium};\n  background: ${({ theme }) => theme.colors.background.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: ${({ theme }) => theme.spacing.large};\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${({ theme }) => theme.colors.danger};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  margin-top: ${({ theme }) => theme.spacing.small};\n`;\n\nconst PasswordChange = () => {\n  const dispatch = useDispatch();\n  const { userInfo } = useAuth();\n  const { changingPassword, passwordError } = useSelector((state) => state.users);\n  const { showSuccess, showError } = useToast();\n\n  const [passwordForm, setPasswordForm] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n  });\n  const [validationError, setValidationError] = useState(null);\n\n  const handleChange = (field) => (e) => {\n    if (passwordError) dispatch(clearError());\n    if (validationError) setValidationError(null);\n    setPasswordForm(prev => ({\n      ...prev,\n      [field]: e.target.value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setValidationError(null);\n\n    // Validation\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      setValidationError('New passwords do not match');\n      return;\n    }\n\n    if (passwordForm.newPassword.length < 8) {\n      setValidationError('Password must be at least 8 characters long');\n      return;\n    }\n\n    try {\n      await dispatch(changePasswordAction({\n        userId: userInfo.userId,\n        currentPassword: passwordForm.currentPassword,\n        newPassword: passwordForm.newPassword,\n      })).unwrap();\n\n      // Clear form on success\n      setPasswordForm({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n      });\n      showSuccess('Password updated successfully');\n    } catch (error) {\n      // Error handling is done by the slice\n      console.error('Failed to change password:', error);\n      showError(`Failed to change password: ${error.message || 'Unknown error'}`);\n    }\n  };\n\n  return (\n    <PasswordChangeContainer>\n      <form onSubmit={handleSubmit}>\n        <FormGroup>\n          <Label>Current Password</Label>\n          <Input\n            type=\"password\"\n            value={passwordForm.currentPassword}\n            onChange={handleChange('currentPassword')}\n            placeholder=\"Enter current password\"\n            disabled={changingPassword}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Label>New Password</Label>\n          <Input\n            type=\"password\"\n            value={passwordForm.newPassword}\n            onChange={handleChange('newPassword')}\n            placeholder=\"Enter new password\"\n            disabled={changingPassword}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Label>Confirm New Password</Label>\n          <Input\n            type=\"password\"\n            value={passwordForm.confirmPassword}\n            onChange={handleChange('confirmPassword')}\n            placeholder=\"Confirm new password\"\n            disabled={changingPassword}\n          />\n        </FormGroup>\n\n        <Button\n          type=\"submit\"\n          disabled={\n            changingPassword ||\n            !passwordForm.currentPassword ||\n            !passwordForm.newPassword ||\n            !passwordForm.confirmPassword\n          }\n        >\n          {changingPassword ? 'Updating Password...' : 'Update Password'}\n        </Button>\n\n        {(validationError || passwordError) && (\n          <ErrorMessage>\n            {validationError || passwordError}\n          </ErrorMessage>\n        )}\n      </form>\n    </PasswordChangeContainer>\n  );\n};\n\nexport default PasswordChange; ","import { useQuery } from '@tanstack/react-query';\nimport { getWarhammerInfo } from '../service/warhammer';\n\nconst useUpdateStatusQuery = (show, options = {}) => {\n  return useQuery({\n    queryKey: ['update-status'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const info = await getWarhammerInfo();\n        const responseTime = Date.now() - startTime;\n        \n        // Log slow responses for monitoring\n        if (responseTime > 5000) {\n          console.warn(`Slow update status response: ${responseTime}ms`);\n        }\n        \n        return info;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        console.error(`Update status query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Only run when show is true\n    enabled: show,\n    \n    // Poll every 2 seconds when update is in progress\n    refetchInterval: show ? 2000 : false,\n    refetchIntervalInBackground: true,\n    \n    // Retry configuration for update status\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Retry up to 30 times (60 seconds total) for update status\n      return failureCount < 30;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(1.5, attemptIndex);\n      const jitter = Math.random() * 500;\n      return Math.min(baseDelay + jitter, 5000);\n    },\n    \n    // Cache configuration - don't cache update status\n    staleTime: 0,\n    gcTime: 0,\n    \n    // Error handling\n    onError: (error) => {\n      console.error('Update status query error:', error);\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.debug('Update status updated:', data);\n    },\n    \n    ...options,\n  });\n};\n\nexport default useUpdateStatusQuery; ","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nimport useUpdateStatusQuery from '../../hooks/useUpdateStatusQuery';\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  color: white;\n`;\n\nconst Spinner = styled.div`\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: white;\n  animation: spin 1s ease-in-out infinite;\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n\n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst Message = styled.div`\n  font-size: ${({ theme }) => theme.typography.sizes.large};\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n  text-align: center;\n`;\n\nconst ReleaseNotes = styled.div`\n  max-width: 600px;\n  margin: ${({ theme }) => theme.spacing.large};\n  padding: ${({ theme }) => theme.spacing.large};\n  background: ${({ theme }) => theme.colors.background.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst UpdateOverlay = ({\n  show,\n  onUpdateComplete = _.noop,\n  message = \"Updating System...\",\n  subMessage = \"This may take a few minutes. Please do not close your browser.\",\n  completeMessage = \"Update Complete! Please wait while we reload the page.\",\n}) => {\n  const [status, setStatus] = useState('updating');\n  const [releaseNotes, setReleaseNotes] = useState(null);\n\n  // Use React Query for update status checking\n  const { data: updateInfo, error: updateError, isLoading: updateLoading } = useUpdateStatusQuery(show);\n\n  // Handle update status changes\n  useEffect(() => {\n    if (!show) return;\n\n    if (updateError) {\n      // If we get an error after multiple attempts, consider it failed\n      setStatus('failed');\n      return;\n    }\n\n    if (updateInfo) {\n      // Update is complete\n      setStatus('complete');\n      setReleaseNotes(updateInfo.releaseNotes);\n      \n      // Show completion for 3 seconds then reload\n      const timer = setTimeout(() => {\n        onUpdateComplete();\n        window.location.reload();\n      }, 3000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [updateInfo, updateError, show, onUpdateComplete]);\n\n  if (!show) return null;\n\n  return (\n    <Overlay>\n      {status === 'updating' && (\n        <>\n          <Spinner />\n          <Message>{message}</Message>\n          <Message style={{ fontSize: '14px', opacity: 0.7 }}>\n            {subMessage}\n          </Message>\n        </>\n      )}\n\n      {status === 'complete' && (\n        <>\n          <Message>{completeMessage}</Message>\n          {releaseNotes && (\n            <ReleaseNotes>\n              <h3>Release Notes</h3>\n              <div>{releaseNotes}</div>\n            </ReleaseNotes>\n          )}\n        </>\n      )}\n\n      {status === 'failed' && (\n        <>\n          <Message>Update Status Unknown</Message>\n          <Message style={{ fontSize: '14px', opacity: 0.7 }}>\n            Please refresh the page to check system status\n          </Message>\n        </>\n      )}\n    </Overlay>\n  );\n};\n\nexport default UpdateOverlay; ","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Button,\n} from '../../styles/components/Modal.styles';\n\nimport {\n  uploadUpdateFile,\n  clearUploadState,\n} from '../../redux/slices/uploadSlice';\nimport UpdateOverlay from './UpdateOverlay';\n\nconst FileUpload = () => {\n  const dispatch = useDispatch();\n  const { loading, error: uploadError, success } = useSelector((state) => state.upload);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [checksum, setChecksum] = useState('');\n  const [error, setError] = useState('');\n  const [inputKey, setInputKey] = useState(Date.now());\n  const [showUpdateOverlay, setShowUpdateOverlay] = useState(false);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setError('');\n    dispatch(clearUploadState());\n  };\n\n  const handleChecksumChange = (event) => {\n    setChecksum(event.target.value);\n    setError('');\n    dispatch(clearUploadState());\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError('Please select a file.');\n      return;\n    }\n    if (!selectedFile.name.endsWith('.tar.gz')) {\n      setError('Please select a .tar.gz file.');\n      return;\n    }\n\n    try {\n      await dispatch(uploadUpdateFile({ file: selectedFile, checksum })).unwrap();\n      setShowUpdateOverlay(true);\n      setSelectedFile(null);\n      setChecksum('');\n      setInputKey(Date.now());\n    } catch (err) {\n      console.error('Upload failed:', err);\n    }\n  };\n\n  return (\n    <>\n      <div>\n        <FormGroup>\n          <Label>Update File</Label>\n          <Input type=\"file\" key={inputKey} onChange={handleFileChange} />\n        </FormGroup>\n        \n        <FormGroup>\n          <Label>Checksum (optional)</Label>\n          <Input\n            type=\"text\"\n            placeholder=\"Enter checksum\"\n            value={checksum}\n            onChange={handleChecksumChange}\n          />\n        </FormGroup>\n\n        {(error || uploadError) && (\n          <FormGroup>\n            <div style={{ color: '#dc3545' }}>{error || uploadError}</div>\n          </FormGroup>\n        )}\n\n        {success && (\n          <FormGroup>\n            <div style={{ color: '#28a745' }}>Upload successful!</div>\n          </FormGroup>\n        )}\n\n        <Button onClick={handleUpload} disabled={!selectedFile || loading}>\n          {loading ? \"Uploading...\" : \"Update System\"}\n        </Button>\n      </div>\n      <UpdateOverlay \n        show={showUpdateOverlay} \n        onUpdateComplete={() => setShowUpdateOverlay(false)} \n      />\n    </>\n  );\n};\n\nexport default FileUpload;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  Hr,\n} from '../../styles/components/Modal.styles';\nimport { setVpnKey } from '../../service/warhammer';\nimport UpdateOverlay from './UpdateOverlay';\nimport { getWarhammerInfo } from '../../service/warhammer';\n\nconst VpnKeyContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-top: ${({ theme }) => theme.spacing.large};\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${({ theme }) => theme.colors.text.error};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  margin-top: ${({ theme }) => theme.spacing.small};\n`;\n\nconst SuccessMessage = styled.div`\n  color: ${({ theme }) => theme.colors.text.success};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  margin-top: ${({ theme }) => theme.spacing.small};\n`;\n\nconst VpnKey = () => {\n  const [formData, setFormData] = useState({\n    url: '',\n    key: '',\n    token: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [showOverlay, setShowOverlay] = useState(false);\n\n  const fieldSanitizers = {\n    url: (value) => {\n      // must start with http or https\n      if (!value.startsWith('http') && !value.startsWith('https')) {\n        return `https://${value}`;\n      }\n      // must not end with a /\n      if (value.endsWith('/')) {\n        return value.slice(0, -1);\n      }\n      return value;\n    },\n    key: (value) => value.trim(),\n    token: (value) => value.trim(),\n  };\n\n  const handleChange = (field) => (e) => {\n    setError(null);\n    setSuccess(false);\n    setFormData(prev => ({\n      ...prev,\n      [field]: e.target.value\n    }));\n  };\n\n  const handleServerUp = () => {\n    setShowOverlay(false);\n    setSuccess(true);\n    setFormData({ url: '', key: '', token: '' }); // Clear form on success\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      setShowOverlay(true);\n      setVpnKey(formData.key, fieldSanitizers.url(formData.url), formData.token).catch(() => {});\n    } catch (err) {\n      setError(err.message || 'Failed to update VPN configuration');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <UpdateOverlay\n        show={showOverlay}\n        message=\"Updating network configuration...\"\n        subMessage=\"This may take a few minutes. Please do not close your browser.\"\n        completeMessage=\"Update Complete! Please wait while we reload the page.\"\n        onUpdateComplete={handleServerUp}\n      />\n      <VpnKeyContainer>\n        <h3>Network Configuration</h3>\n        <Hr />\n        <form onSubmit={handleSubmit}>\n          <FormGroup>\n            <Label>URL</Label>\n            <Input\n              type=\"text\"\n              value={formData.url}\n              onChange={handleChange('url')}\n              placeholder=\"https://app.example.com\"\n              disabled={loading}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label>Token</Label>\n            <Input\n              type=\"text\"\n              value={formData.token}\n              onChange={handleChange('token')}\n              placeholder=\"Enter your network token\"\n              disabled={loading}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label>Setup Key</Label>\n            <Input\n              type=\"text\"\n              value={formData.key}\n              onChange={handleChange('key')}\n              placeholder=\"Enter your network setup key\"\n              disabled={loading}\n            />\n          </FormGroup>\n\n          <Button\n            type=\"submit\"\n            disabled={loading || !formData.url || !formData.key || !formData.token}\n          >\n            {loading ? \"Updating...\" : \"Change Network - Device will restart\"}\n          </Button>\n\n          {error && <ErrorMessage>{error}</ErrorMessage>}\n          {success && <SuccessMessage>VPN configuration updated successfully!</SuccessMessage>}\n        </form>\n      </VpnKeyContainer>\n    </>\n  );\n};\n\nexport default VpnKey; ","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  Hr,\n} from '../../styles/components/Modal.styles';\nimport { useLicenseStatusQuery, useLicenseInfoQuery, useActivateLicenseMutation, useDeactivateLicenseMutation, useDeviceInfoQuery } from '../../hooks/useLicenseQueries';\nimport { useAuth } from '../../context/AuthContext';\nimport { usePollingPause } from '../../context/PollingPauseContext';\n\nconst LicenseContainer = styled.div`\n  h3 {\n    color: ${({ theme }) => theme.colors.text.primary};\n    margin-bottom: ${({ theme }) => theme.spacing.medium};\n    font-size: 1.1em;\n    font-weight: 500;\n  }\n`;\n\nconst LicenseStatus = styled.div`\n  background: ${({ theme, status }) => {\n    switch (status) {\n      case 'licensed':\n        return theme.colors.text.success;\n      case 'expired':\n        return theme.colors.background.warning;\n      case 'unlicensed':\n        return theme.colors.text.error;\n      default:\n        return theme.colors.background.base;\n    }\n  }};\n  border: 1px solid ${({ theme, status }) => {\n    switch (status) {\n      case 'licensed':\n        return theme.colors.text.success;\n      case 'expired':\n        return theme.colors.background.warning;\n      case 'unlicensed':\n        return theme.colors.text.error;\n      default:\n        return theme.colors.border;\n    }\n  }};\n  color: white;\n  padding: ${({ theme }) => theme.spacing.medium};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n  text-align: center;\n  font-weight: 500;\n  font-size: 1.2em;\n`;\n\nconst LicenseInfo = styled.div`\n  background: ${({ theme }) => theme.colors.background.surface};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: ${({ theme }) => theme.spacing.medium};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n  \n  strong {\n    color: ${({ theme }) => theme.colors.text.primary};\n  }\n  \n  br + strong {\n    margin-top: ${({ theme }) => theme.spacing.small};\n    display: inline-block;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${({ theme }) => theme.colors.text.error};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n  text-align: center;\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n`;\n\nconst SuccessMessage = styled.div`\n  color: ${({ theme }) => theme.colors.text.success};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n  text-align: center;\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n`;\n\nconst LoadingSpinner = styled.div`\n  text-align: center;\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  padding: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst DownloadButton = styled(Button)`\n  margin-top: ${({ theme }) => theme.spacing.small};\n  background-color: ${({ theme }) => theme.colors.background.accent};\n  border-color: ${({ theme }) => theme.colors.background.accent};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  \n  &:hover {\n    background-color: ${({ theme }) => theme.colors.background.accentHover};\n    border-color: ${({ theme }) => theme.colors.background.accentHover};\n  }\n`;\n\nconst LicenseManagement = () => {\n  const { authToken } = useAuth();\n  const { isPollingPaused } = usePollingPause();\n  const [licenseKey, setLicenseKey] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  // React Query hooks\n  const { \n    data: licenseStatusData, \n    isLoading: statusLoading, \n    error: statusError \n  } = useLicenseStatusQuery({ pausePolling: isPollingPaused });\n\n  const { \n    data: licenseInfo, \n    isLoading: infoLoading, \n    error: infoError \n  } = useLicenseInfoQuery(\n    licenseStatusData?.status === 'licensed',\n    { pausePolling: isPollingPaused }\n  );\n\n  const { \n    data: deviceInfo, \n    isLoading: deviceInfoLoading, \n    error: deviceInfoError \n  } = useDeviceInfoQuery({ pausePolling: isPollingPaused });\n\n  const activateLicenseMutation = useActivateLicenseMutation();\n  const deactivateLicenseMutation = useDeactivateLicenseMutation();\n\n  // Extract status from data\n  const licenseStatus = licenseStatusData?.status || 'unknown';\n  const isLoading = statusLoading || infoLoading || deviceInfoLoading;\n  const hasError = statusError || infoError || deviceInfoError;\n\n  const handleActivateLicense = async (e) => {\n    e.preventDefault();\n    if (!licenseKey.trim()) return;\n\n    try {\n      await activateLicenseMutation.mutateAsync(licenseKey.trim());\n      setLicenseKey('');\n      setSuccess(true);\n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (error) {\n      // Error is handled by the mutation hook\n      console.error('License activation failed:', error);\n    }\n  };\n\n  const handleDeactivateLicense = async () => {\n    if (!confirm('Are you sure you want to deactivate your license? This will disable all licensed features.')) {\n      return;\n    }\n\n    try {\n      await deactivateLicenseMutation.mutateAsync();\n      setSuccess(true);\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (error) {\n      // Error is handled by the mutation hook\n      console.error('License deactivation failed:', error);\n    }\n  };\n\n  const handleDownloadDeviceInfo = () => {\n    if (!deviceInfo) return;\n    \n    // Create a blob with the device info JSON\n    const jsonString = JSON.stringify(deviceInfo, null, 2);\n    const blob = new Blob([jsonString], { type: 'application/json' });\n    \n    // Create download link\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `device_info_${deviceInfo.device_id || deviceInfo.current_device_id || 'unknown'}.json`;\n    \n    // Trigger download\n    document.body.appendChild(link);\n    link.click();\n    \n    // Cleanup\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n    \n    setSuccess(true);\n    setTimeout(() => setSuccess(false), 3000);\n  };\n\n  const getStatusDisplay = () => {\n    switch (licenseStatus) {\n      case 'licensed':\n        return {\n          text: ' Licensed',\n        };\n      case 'expired':\n        return {\n          text: ' License Expired',\n        };\n      case 'unlicensed':\n        return {\n          text: ' Unlicensed',\n        };\n      default:\n        return {\n          text: ' Unknown Status',\n        };\n    }\n  };\n\n  const statusDisplay = getStatusDisplay();\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <LicenseContainer>\n        <h3>License Management</h3>\n        <Hr />\n        <LoadingSpinner>Loading license information...</LoadingSpinner>\n      </LicenseContainer>\n    );\n  }\n\n  // Show error state\n  if (hasError) {\n    return (\n      <LicenseContainer>\n        <h3>License Management</h3>\n        <Hr />\n        <ErrorMessage>\n          Failed to load license information. Please try refreshing the page.\n        </ErrorMessage>\n      </LicenseContainer>\n    );\n  }\n\n  return (\n    <LicenseContainer>\n      <h3>License Management</h3>\n      <Hr />\n      \n      <LicenseStatus status={licenseStatus}>\n        {statusDisplay.text}\n      </LicenseStatus>\n\n      {deviceInfo && (\n        <LicenseInfo>\n          <strong>Device Information:</strong>\n          <br />\n          <strong>Device ID:</strong> <span style={{ color: '#aaa' }}>\n            {(() => {\n              const deviceId = deviceInfo.device_id || deviceInfo.current_device_id || 'Unknown';\n              if (deviceId === 'Unknown' || deviceId.length <= 20) return deviceId;\n              return `${deviceId.substring(0, 10)}...${deviceId.substring(deviceId.length - 10)}`;\n            })()}\n          </span>\n          \n          <DownloadButton\n            onClick={handleDownloadDeviceInfo}\n            disabled={!deviceInfo}\n          >\n             Download Device Info\n          </DownloadButton>\n        </LicenseInfo>\n      )}\n\n      {licenseInfo && (\n        <LicenseInfo>\n          <strong>License Details:</strong>\n          <br />\n          <strong>Customer:</strong> <span style={{ color: '#aaa' }}>{licenseInfo.license_info?.customer_name || 'Unknown'}</span>\n          <br />\n          <strong>Issued:</strong> <span style={{ color: '#aaa' }}>{licenseInfo.license_info?.issued_date ? new Date(licenseInfo.license_info.issued_date).toLocaleDateString() : 'Unknown'}</span>\n          <br />\n          <strong>Expires:</strong> <span style={{ color: '#aaa' }}>{licenseInfo.license_info?.expiry_date ? new Date(licenseInfo.license_info.expiry_date).toLocaleDateString() : 'Unknown'}</span>\n          {licenseInfo.expires_in_days !== null && (\n            <>\n              <br />\n              <strong>Days Remaining:</strong> <span style={{ color: '#aaa' }}>{licenseInfo.expires_in_days}</span>\n            </>\n          )}\n        </LicenseInfo>\n      )}\n\n      {licenseStatus === 'unlicensed' && (\n        <form onSubmit={handleActivateLicense}>\n          <FormGroup>\n            <Label>License Key</Label>\n            <Input\n              type=\"text\"\n              value={licenseKey}\n              onChange={(e) => setLicenseKey(e.target.value)}\n              placeholder=\"Enter your license key\"\n              disabled={activateLicenseMutation.isPending}\n            />\n          </FormGroup>\n          \n          <Button\n            type=\"submit\"\n            disabled={activateLicenseMutation.isPending || !licenseKey.trim()}\n          >\n            {activateLicenseMutation.isPending ? 'Activating...' : 'Activate License'}\n          </Button>\n        </form>\n      )}\n\n      {activateLicenseMutation.error && (\n        <ErrorMessage>\n          {activateLicenseMutation.error.message || 'Failed to activate license'}\n        </ErrorMessage>\n      )}\n\n      {deactivateLicenseMutation.error && (\n        <ErrorMessage>\n          {deactivateLicenseMutation.error.message || 'Failed to deactivate license'}\n        </ErrorMessage>\n      )}\n\n      {success && <SuccessMessage>Operation completed successfully!</SuccessMessage>}\n    </LicenseContainer>\n  );\n};\n\nexport default LicenseManagement;\n","import authService from './authService';\n\n// SSL status endpoint\nexport const getSSLStatus = () => authService.makeAuthRequest('ssl/status');\n\n// Download SSL certificate\nexport const downloadSSLCertificate = async () => {\n  const blob = await authService.makeAuthRequest('ssl/certificate', {\n    method: 'GET',\n    responseType: 'blob',\n  }, 30000); // 30 second timeout for downloads\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'warhammer-ssl-certificate.zip';\n  document.body.appendChild(a);\n  a.click();\n  window.URL.revokeObjectURL(url);\n  document.body.removeChild(a);\n};\n","import React, { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useAuth } from '../../context/AuthContext';\nimport styled from 'styled-components';\nimport { getSSLStatus, downloadSSLCertificate } from '../../service/sslService';\nimport { Button } from '../../styles/components/Modal.styles';\n\nconst SSLContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  margin-bottom: 16px;\n`;\n\nconst SSLInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n`;\n\nconst StatusIndicator = styled.div`\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background-color: ${props => props.active ? '#28a745' : '#dc3545'};\n  box-shadow: 0 0 8px ${props => props.active ? 'rgba(40, 167, 69, 0.4)' : 'rgba(220, 53, 69, 0.4)'};\n`;\n\nconst SSLText = styled.span`\n  font-weight: 500;\n  color: #495057;\n`;\n\nconst DownloadButton = styled(Button)`\n  background-color: ${({ theme }) => theme.colors.background.accent};\n  border-color: ${({ theme }) => theme.colors.background.accent};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  \n  &:hover {\n    background-color: ${({ theme }) => theme.colors.background.accentHover};\n    border-color: ${({ theme }) => theme.colors.background.accentHover};\n  }\n`;\n\nconst SSLStatusComponent = () => {\n  const { authToken } = useAuth();\n  const [isDownloading, setIsDownloading] = useState(false);\n\n  // Fetch SSL status\n  const { data: sslStatus, isLoading, error } = useQuery({\n    queryKey: ['ssl-status'],\n    queryFn: getSSLStatus,\n    refetchInterval: 30000, // Refresh every 30 seconds\n  });\n\n  const handleDownloadCertificate = async () => {\n    if (!sslStatus?.ssl_enabled) return;\n    \n    setIsDownloading(true);\n    try {\n      await downloadSSLCertificate();\n    } catch (error) {\n      console.error('Failed to download certificate:', error);\n      alert('Failed to download certificate. Please try again.');\n    } finally {\n      setIsDownloading(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <SSLContainer>\n        <SSLInfo>\n          <StatusIndicator active={false} />\n          <SSLText>Loading SSL status...</SSLText>\n        </SSLInfo>\n      </SSLContainer>\n    );\n  }\n\n  if (error) {\n    return (\n      <SSLContainer>\n        <SSLInfo>\n          <StatusIndicator active={false} />\n          <SSLText>SSL status unavailable</SSLText>\n        </SSLInfo>\n      </SSLContainer>\n    );\n  }\n\n  const isSSLEnabled = sslStatus?.ssl_enabled;\n  const hasCertificate = sslStatus?.certificate_exists;\n\n  return (\n    <SSLContainer>\n      <SSLInfo>\n        <StatusIndicator active={isSSLEnabled && hasCertificate} />\n        <SSLText>\n          {isSSLEnabled && hasCertificate ? 'SSL Enabled' : 'SSL Disabled'}\n        </SSLText>\n      </SSLInfo>\n      \n      {isSSLEnabled && hasCertificate && (\n        <DownloadButton \n          onClick={handleDownloadCertificate}\n          disabled={isDownloading}\n        >\n          {isDownloading ? 'Downloading...' : 'Download Certificate'}\n        </DownloadButton>\n      )}\n    </SSLContainer>\n  );\n};\n\nexport default SSLStatusComponent;\n","import React from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useLicense } from '../../context/LicenseContext';\nimport TwoPaneModal from '../common/TwoPaneModal';\nimport {\n  ConfigSection,\n  Hr,\n} from '../../styles/components/Modal.styles';\nimport UserManagement from './UserManagement';\nimport PasswordChange from './PasswordChange';\nimport FileUpload from './FileUpload';\nimport VpnKey from './VpnKey';\nimport LicenseManagement from './LicenseManagement';\nimport SSLStatusComponent from './SSLStatus';\n\nconst ConfigurationModal = ({ isOpen, onClose }) => {\n  const { userInfo } = useAuth();\n  const { roles } = userInfo || [];\n  const isAdmin = roles?.includes('admin');\n  \n  const { \n    canAccessSystemConfig, \n    canAccessUserManagement, \n    canAccessVpnKey, \n    canAccessFileUpload,\n    canAccessPasswordChange,\n    shouldShowRestrictedContent \n  } = useLicense();\n\n  // Always show license management, but restrict other system features\n  const SystemPane = (\n    <div>\n      {canAccessFileUpload && (\n        <ConfigSection>\n          <Hr />\n          <FileUpload />\n        </ConfigSection>\n      )}\n\n      {isAdmin && canAccessVpnKey && (\n        <ConfigSection>\n          <VpnKey />\n        </ConfigSection>\n      )}\n\n      <ConfigSection>\n        <LicenseManagement />\n      </ConfigSection>\n\n      <ConfigSection>\n        <SSLStatusComponent />\n      </ConfigSection>\n    </div>\n  );\n\n  const UserPane = (\n    <div>\n      {canAccessPasswordChange && (\n        <ConfigSection>\n          <Hr />\n          <PasswordChange />\n        </ConfigSection>\n      )}\n      \n      {/* Always show license management in user pane when system features are restricted */}\n      {!shouldShowRestrictedContent(roles) && (\n        <ConfigSection>\n          <LicenseManagement />\n        </ConfigSection>\n      )}\n    </div>\n  );\n\n  const UsersPane = (\n    <div>\n      {canAccessUserManagement && (\n        <ConfigSection>\n          <UserManagement />\n        </ConfigSection>\n      )}\n    </div>\n  );\n\n  // Determine which pane to show\n  const showSystemPane = isAdmin && shouldShowRestrictedContent(roles);\n  const leftPane = showSystemPane ? SystemPane : UserPane;\n  const leftPaneTitle = showSystemPane ? \"System Update\" : \"Account Settings\";\n\n  return (\n    <TwoPaneModal\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Configuration\"\n      leftPaneTitle={leftPaneTitle}\n      rightPaneTitle={isAdmin && canAccessUserManagement ? \"User Management\" : \"\"}\n      leftPane={leftPane}\n      rightPane={isAdmin && canAccessUserManagement ? UsersPane : null}\n      singlePane={!isAdmin || !shouldShowRestrictedContent(roles)}\n    />\n  );\n};\n\nexport default ConfigurationModal; ","import React from 'react';\nimport styled from 'styled-components';\nimport TwoPaneModal from '../common/TwoPaneModal';\nimport { Button } from '../../styles/components/Modal.styles';\n\nconst DownloadList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.small};\n`;\n\nconst DownloadButton = styled(Button).attrs(() => ({\n  as: 'a',\n  target: '_blank',\n  rel: 'noopener noreferrer'\n}))`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  width: fit-content;\n`;\n\nconst Instructions = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.medium};\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: 0.9em;\n  line-height: 1.6;\n\n  ol {\n    margin: ${({ theme }) => theme.spacing.small} 0;\n    padding-left: 20px;\n  }\n\n  li {\n    margin-bottom: ${({ theme }) => theme.spacing.small};\n  }\n`;\n\nconst InfoNote = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.medium};\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.medium};\n  background: ${({ theme }) => theme.colors.background.surface};\n  border-left: 3px solid ${({ theme }) => theme.colors.accent};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 0.85em;\n`;\n\nconst ChatModal = ({ isOpen, onClose }) => {\n  const homeserver = process.env.REACT_APP_MATRIX_HOMESERVER || 'your-matrix-server.example.com';\n  const hasConfiguredHomeserver = Boolean(process.env.REACT_APP_MATRIX_HOMESERVER);\n\n  const downloadOptions = [\n    {\n      label: 'Element Desktop (Windows)',\n      url: 'https://element.io/download#desktop'\n    },\n    {\n      label: 'Element Desktop (macOS)',\n      url: 'https://element.io/download#desktop'\n    },\n    {\n      label: 'Element Desktop (Linux)',\n      url: 'https://element.io/download#desktop'\n    }\n  ];\n\n  const instructions = (\n    <div>\n      <DownloadList>\n        {downloadOptions.map(({ label, url }) => (\n          <DownloadButton key={label} href={url}>\n            {label}\n          </DownloadButton>\n        ))}\n      </DownloadList>\n\n      <Instructions>\n        <p>Element Desktop is a fully featured Matrix client that supports end-to-end encryption and multi-room chat.</p>\n        <ol>\n          <li>Download the installer for your operating system.</li>\n          <li>Run the installer and launch Element.</li>\n          <li>When prompted, select <strong>\"Sign in with existing account\"</strong>.</li>\n          <li>Set the homeserver to <strong>{homeserver}</strong>.</li>\n          <li>Sign in with the credentials provided by your Warhammer administrator.</li>\n        </ol>\n      </Instructions>\n\n      <InfoNote>\n        Looking for mobile access? Install Element from the iOS App Store or Google Play and reuse the same homeserver and credentials.\n      </InfoNote>\n\n      {!hasConfiguredHomeserver && (\n        <InfoNote>\n          Tip: set <code>REACT_APP_MATRIX_HOMESERVER</code> in the frontend environment to replace the placeholder homeserver shown above.\n        </InfoNote>\n      )}\n    </div>\n  );\n\n  return (\n    <TwoPaneModal\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Chat\"\n      leftPaneTitle=\"Desktop Clients\"\n      leftPane={instructions}\n      singlePane\n    />\n  );\n};\n\nexport default ChatModal;\n","import styled from 'styled-components';\n\nexport const Dock = styled.div`\n  background-color: ${({ theme }) => theme.colors.background.surface};\n  color: ${({ theme }) => theme.colors.textMuted};\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.large};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: ${({ theme }) => theme.shadows.header};\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1001;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.mobile}) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`;\n\nexport const LogoContainer = styled.div`\n  img {\n    height: 15px;\n  }\n`;\n\nexport const CenterContainer = styled.div`\n  color: ${({ theme }) => theme.colors.text.primary};\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 1.2em;\n  display: flex;\n  font-weight: bold;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  pointer-events: none;\n\n  @media (max-width: 768px) {\n    position: static;\n    transform: none;\n    margin-top: 10px;\n  }\n`;\n\nexport const RightContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 20px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: flex-end;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  gap: 10px;\n`;\n\nexport const HeaderButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: .75em;\n  cursor: pointer;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  position: relative;\n  transition: color 0.3s ease;\n  padding: 8px 12px;\n  font-family: 'Poppins', sans-serif;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.text.hyperlink};\n  }\n`;\n\n// ... other styled components ","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport { useAuth } from '../../context/AuthContext';\nimport { useLicense } from '../../context/LicenseContext';\nimport SignalStrength from './SignalStrength';\nimport RoutesModal from '../routes/RoutesModal';\nimport NetworkSettingsModal from '../network/NetworkSettingsModal';\nimport PerformanceModal from '../performance/PerformanceModal';\nimport ConfigurationModal from '../configuration/ConfigurationModal';\nimport ChatModal from '../chat/ChatModal';\nimport {\n  Dock,\n  LogoContainer,\n  CenterContainer,\n  RightContainer,\n  ButtonContainer,\n  HeaderButton,\n} from '../../styles/components/Header.styles';\n\nconst MODAL_TYPES = {\n  NONE: 'none',\n  ROUTES: 'routes',\n  NETWORK: 'network',\n  PERFORMANCE: 'performance',\n  CONFIG: 'config',\n  CHAT: 'chat',\n};\n\nconst AppHeader = () => {\n  const { logout, vpnUnavailable } = useAuth();\n  const { canAccessRoutes, canAccessNetwork, canAccessPerformance } = useLicense();\n  const warhammerInfo = useSelector((state) => state?.warhammer?.data?.info);\n  const [activeModal, setActiveModal] = useState(MODAL_TYPES.NONE);\n\n  const handleModalOpen = (modalType) => {\n    setActiveModal(modalType);\n  };\n\n  const handleModalClose = () => {\n    setActiveModal(MODAL_TYPES.NONE);\n  };\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  return (\n    <>\n      <Dock>\n        <LogoContainer>\n          <img src={`${process.env.PUBLIC_URL}/WH_logo.png`} alt=\"Logo\" />\n        </LogoContainer>\n\n        <CenterContainer>\n          {warhammerInfo?.name || 'WARHAMMER'}\n        </CenterContainer>\n\n        <RightContainer>\n          <ButtonContainer>\n            {canAccessRoutes && !vpnUnavailable && (\n              <HeaderButton onClick={() => handleModalOpen(MODAL_TYPES.ROUTES)}>\n                Routes\n              </HeaderButton>\n            )}\n            {canAccessNetwork && !vpnUnavailable && (\n              <HeaderButton onClick={() => handleModalOpen(MODAL_TYPES.NETWORK)}>\n                Network\n              </HeaderButton>\n            )}\n            {canAccessPerformance && !vpnUnavailable && (\n              <HeaderButton onClick={() => handleModalOpen(MODAL_TYPES.PERFORMANCE)}>\n                Performance\n              </HeaderButton>\n            )}\n            <HeaderButton onClick={() => handleModalOpen(MODAL_TYPES.CHAT)}>\n              Chat\n            </HeaderButton>\n            <HeaderButton onClick={() => handleModalOpen(MODAL_TYPES.CONFIG)}>\n              Config\n            </HeaderButton>\n            <HeaderButton onClick={handleLogout}>\n              Logout\n            </HeaderButton>\n          </ButtonContainer>\n          <SignalStrength />\n        </RightContainer>\n      </Dock>\n\n      <RoutesModal\n        isOpen={activeModal === MODAL_TYPES.ROUTES}\n        onClose={handleModalClose}\n      />\n\n      <NetworkSettingsModal\n        isOpen={activeModal === MODAL_TYPES.NETWORK}\n        onClose={handleModalClose}\n      />\n\n      <PerformanceModal\n        isOpen={activeModal === MODAL_TYPES.PERFORMANCE}\n        onClose={handleModalClose}\n      />\n\n      <ChatModal\n        isOpen={activeModal === MODAL_TYPES.CHAT}\n        onClose={handleModalClose}\n      />\n\n      <ConfigurationModal\n        isOpen={activeModal === MODAL_TYPES.CONFIG}\n        onClose={handleModalClose}\n      />\n    </>\n  )\n};\n\nexport default AppHeader;\n","import styled from 'styled-components';\n\nexport const FooterContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.large};\n  background-color: ${({ theme }) => theme.colors.background.surface};\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n`;\n\nexport const FooterSection = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.medium};\n`;\n\nexport const KillButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.error};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  cursor: pointer;\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.medium};\n  font-weight: ${({ theme }) => theme.typography.weights.medium};\n  \n  &:hover {\n    opacity: 0.9;\n  }\n\n  &:active {\n    transform: translateY(1px);\n  }\n`; \n\n\n\nexport const BrandText = styled.span`\n  color: ${({ theme }) => theme.colors.text.muted};\n`;\n\nexport const VersionText = styled.span`\n  color: ${({ theme }) => theme.colors.text.muted};\n`;","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalTitle,\n  CloseButton,\n  FormGroup,\n  Input,\n  Button,\n} from '../../styles/components/Modal.styles';\n\nconst WarningText = styled.div`\n  color: ${({ theme }) => theme.colors.text.error};\n  margin: ${({ theme }) => theme.spacing.large} 0;\n  font-weight: ${({ theme }) => theme.typography.weights.medium};\n  font-size: ${({ theme }) => theme.typography.sizes.large};\n`;\n\nconst KillNetworkModal = ({ isOpen, onClose, onConfirm }) => {\n  const [confirmation, setConfirmation] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (confirmation !== 'KILL') return;\n\n    setLoading(true);\n    try {\n      await onConfirm();\n      onClose();\n    } catch (error) {\n      console.error('Failed to kill network:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <ModalOverlay onClick={onClose}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <ModalHeader>\n          <ModalTitle>Kill Network</ModalTitle>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </ModalHeader>\n\n        <WarningText>\n          WARNING: This will permanently delete your entire network configuration. \n          This action cannot be undone.\n        </WarningText>\n\n        <form onSubmit={handleSubmit}>\n          <FormGroup>\n            <Input\n              type=\"text\"\n              value={confirmation}\n              onChange={(e) => setConfirmation(e.target.value)}\n              placeholder=\"Type KILL in all caps to confirm\"\n              disabled={loading}\n            />\n          </FormGroup>\n\n          {confirmation === 'KILL' && (\n            <Button\n              type=\"submit\"\n              $danger\n            >\n              {loading ? \"Killing Network...\" : \"Kill Network\"}\n            </Button>\n          )}\n        </form>\n      </ModalContent>\n    </ModalOverlay>\n  );\n};\n\nexport default KillNetworkModal; ","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport styled from 'styled-components'\nimport { FooterContainer, FooterSection, KillButton, BrandText, VersionText } from '../../styles/components/Footer.styles'\nimport KillNetworkModal from './KillNetworkModal'\nimport { killNetwork } from '../../service/warhammer'\n\nconst AppFooter = () => {\n  const [showKillModal, setShowKillModal] = useState(false);\n  const warhammerInfo = useSelector((state) => state?.warhammer?.data?.info);\n\n  const handleKillNetwork = async () => {\n    try {\n      await killNetwork();\n      // Optionally show success message or redirect\n    } catch (err) {\n      console.error('Failed to kill network:', err);\n    }\n  };\n\n  return (\n    <>\n      <FooterContainer>\n        <FooterSection>\n          {/* will be added back in\n          <KillButton onClick={() => setShowKillModal(true)}>\n            KILL NETWORK\n          </KillButton> */}\n        </FooterSection>\n        <FooterSection>\n          <BrandText>Powered by CTG</BrandText>\n          <VersionText>{`v${warhammerInfo?.version || '-'}`}</VersionText>\n        </FooterSection>\n      </FooterContainer>\n\n      <KillNetworkModal\n        isOpen={showKillModal}\n        onClose={() => setShowKillModal(false)}\n        onConfirm={handleKillNetwork}\n      />\n    </>\n  );\n};\n\nexport default React.memo(AppFooter);\n","import styled from 'styled-components';\n\nexport const MapContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  .mapboxgl-ctrl-group {\n    background: ${({ theme }) => theme.colors.background.surface};\n    border: none;\n    box-shadow: ${({ theme }) => theme.shadows.card};\n\n    button {\n      background: none;\n      border: none;\n      color: ${({ theme }) => theme.colors.text.primary};\n      width: 30px;\n      height: 30px;\n      padding: 5px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      &:hover {\n        background: rgba(255, 255, 255, 0.1);\n      }\n\n      &.active {\n        background: rgba(255, 255, 255, 0.1);\n        color: ${({ theme }) => theme.colors.accent};\n      }\n\n      svg {\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n\n  .custom-marker {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    cursor: pointer;\n\n    .marker-dot {\n      width: 12px;\n      height: 12px;\n      background: ${({ theme }) => theme.colors.text.error};\n      border-radius: 50%;\n      border: 2px solid white;\n      box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\n      transition: all 0.2s ease;\n\n      &:hover {\n        transform: scale(1.2);\n      }\n    }\n\n    &.current .marker-dot {\n      width: 16px;\n      height: 16px;\n      background: ${({ theme }) => theme.colors.text.hyperlink};\n    }\n\n    &.connected .marker-dot {\n      background: ${({ theme }) => theme.colors.text.success};\n    }\n\n    .marker-label {\n      background: ${({ theme }) => theme.colors.background.surface};\n      color: ${({ theme }) => theme.colors.text.primary};\n      padding: 2px 6px;\n      border-radius: 4px;\n      font-size: 12px;\n      margin-top: 10px;\n      white-space: nowrap;\n      opacity: 0.9;\n      transform: translateY(-8px);\n    }\n  }\n\n  .custom-popup {\n    .popup-content {\n      h3 {\n        margin: 0 0 8px;\n        font-size: 14px;\n        font-weight: ${({ theme }) => theme.typography.weights.medium};\n      }\n\n      p {\n        margin: 4px 0;\n        font-size: 12px;\n        color: ${({ theme }) => theme.colors.text.muted};\n      }\n    }\n  }\n`;\n\nexport const MapOverlay = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 1;\n  background: ${({ theme }) => theme.colors.background.surface};\n  padding: ${({ theme }) => theme.spacing.small};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  box-shadow: ${({ theme }) => theme.shadows.card};\n`;\n\nexport const MapControl = styled.div`\n  position: absolute;\n  z-index: 1;\n`;\n\nexport const StyleSelect = styled.div`\n  position: absolute;\n  bottom: 35px;\n  left: 7px;\n  z-index: 2;\n\n  select {\n    background: ${({ theme }) => theme.colors.background.surface};\n    color: ${({ theme }) => theme.colors.text.primary};\n    border: none;\n    border-radius: ${({ theme }) => theme.borderRadius.default};\n    padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.medium};\n    font-size: 0.85em;\n    cursor: pointer;\n    box-shadow: ${({ theme }) => theme.shadows.card};\n    \n    &:focus {\n      outline: none;\n      border-color: ${({ theme }) => theme.colors.accent};\n    }\n\n    option {\n      background: ${({ theme }) => theme.colors.background.surface};\n      color: ${({ theme }) => theme.colors.text.primary};\n      padding: ${({ theme }) => theme.spacing.small};\n    }\n  }\n`;\n\nexport const MarkerPopup = styled.div`\n  .mapboxgl-popup-content {\n    background: ${({ theme }) => theme.colors.background.surface};\n    color: ${({ theme }) => theme.colors.text.primary};\n    border-radius: ${({ theme }) => theme.borderRadius.default};\n    padding: ${({ theme }) => theme.spacing.medium};\n    box-shadow: ${({ theme }) => theme.shadows.card};\n  }\n\n  .mapboxgl-popup-tip {\n    border-top-color: ${({ theme }) => theme.colors.background.surface};\n  }\n`; ","import React, { useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport mapboxgl from 'mapbox-gl';\nimport MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { MapContainer, MapOverlay, MapControl, StyleSelect, MarkerPopup } from '../../../styles/components/Map.styles';\nimport { FiMaximize, FiMinimize, FiRefreshCw, FiLayers, FiMap } from 'react-icons/fi';\nimport LoadingSpinner from '../../common/LoadingSpinner';\n\n// Replace with your Mapbox access token\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\n\nexport const mapInstance = {\n  current: null,\n  fitToPeer: (peer) => {\n    if (!mapInstance.current || !peer?.location?.latitude || !peer?.location?.longitude) return;\n\n    mapInstance.current.flyTo({\n      center: [peer.location.longitude, peer.location.latitude],\n      zoom: 15,\n      essential: true\n    });\n  }\n};\n\nconst MAP_STYLES = {\n  dark: 'Dark',\n  light: 'Light',\n  satellite: 'Satellite',\n  streets: 'Streets',\n  satellite_streets: 'Satellite Streets',\n};\n\nconst MAP_STYLE_URLS = {\n  dark: 'mapbox://styles/mapbox/dark-v11',\n  light: 'mapbox://styles/mapbox/light-v11',\n  satellite: 'mapbox://styles/mapbox/satellite-v9',\n  streets: 'mapbox://styles/mapbox/streets-v12',\n  satellite_streets: 'mapbox://styles/mapbox/satellite-streets-v12',\n};\n\nconst createCustomMarker = (peer, isCurrentPeer) => {\n  const markerEl = document.createElement('div');\n  markerEl.className = `custom-marker ${isCurrentPeer ? 'current' : ''} ${peer.connected && !isCurrentPeer ? 'connected' : ''}`;\n\n  const dot = document.createElement('div');\n  dot.className = 'marker-dot';\n\n  const label = document.createElement('div');\n  label.className = 'marker-label';\n  label.textContent = peer.name || 'Unknown';\n\n  markerEl.appendChild(label);\n  markerEl.appendChild(dot);\n\n  return markerEl;\n};\n\nconst MapBox = () => {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const peers = useSelector((state) => state.vpn.peers);\n  const warhammerInfo = useSelector((state) => state.warhammer.data.info);\n  const [mapCoordinates, setMapCoordinates] = useState([0, 0]);\n  const [zoom, setZoom] = useState(3);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [currentStyle, setCurrentStyle] = useState('dark');\n  const markersRef = useRef({});\n  const [show3DBuildings, setShow3DBuildings] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [waitingForPeers, setWaitingForPeers] = useState(true);\n  const mapLoaded = useRef(false);\n  const [showTerrain, setShowTerrain] = useState(false);\n\n  const fitMapToPeers = () => {\n    if (!map.current || !peers?.length) return;\n\n    const bounds = new mapboxgl.LngLatBounds();\n    let hasValidBounds = false;\n\n    peers.forEach(peer => {\n      if (peer.location?.latitude && peer.location?.longitude) {\n        bounds.extend([peer.location.longitude, peer.location.latitude]);\n        hasValidBounds = true;\n      }\n    });\n\n    if (hasValidBounds) {\n      if (show3DBuildings) {\n        toggle3DBuildings();\n      }\n\n      map.current.fitBounds(bounds, {\n        padding: 50,\n        maxZoom: 15\n      });\n    }\n  };\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      mapContainer.current.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n\n  const addSkyLayer = () => {\n    if (!map.current) return;\n    \n    map.current.addLayer({\n      'id': 'sky',\n      'type': 'sky',\n      'paint': {\n        'sky-type': 'atmosphere',\n        'sky-atmosphere-sun': [0.0, 90.0],\n        'sky-atmosphere-sun-intensity': 15\n      }\n    });\n  };\n\n  const toggleTerrain = () => {\n    if (!map.current) return;\n\n    if (showTerrain) {\n      // Remove terrain\n      map.current.setTerrain(null);\n      if (map.current.getSource('mapbox-dem')) {\n        map.current.removeSource('mapbox-dem');\n      }\n    } else {\n      // Add terrain\n      map.current.addSource('mapbox-dem', {\n        'type': 'raster-dem',\n        'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n        'tileSize': 512,\n        'maxzoom': 14\n      });\n\n      map.current.setTerrain({\n        'source': 'mapbox-dem',\n        'exaggeration': 1.5\n      });\n    }\n    setShowTerrain(!showTerrain);\n  };\n\n  const changeMapStyle = (event) => {\n    const style = event.target.value;\n    if (map.current && MAP_STYLE_URLS[style]) {\n      // Store current terrain state before style change\n      const hadTerrain = showTerrain;\n      \n      map.current.once('style.load', () => {\n        // Always add sky layer after style change\n        addSkyLayer();\n        \n        if (hadTerrain) {\n          // Re-add terrain after style change\n          map.current.addSource('mapbox-dem', {\n            'type': 'raster-dem',\n            'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n            'tileSize': 512,\n            'maxzoom': 14\n          });\n\n          map.current.setTerrain({\n            'source': 'mapbox-dem',\n            'exaggeration': 1.5\n          });\n        }\n      });\n\n      map.current.setStyle(MAP_STYLE_URLS[style]);\n      setCurrentStyle(style);\n    }\n  };\n\n  const updateMarkers = () => {\n    if (!map.current) return;\n\n    // Remove existing markers\n    Object.values(markersRef.current).forEach(marker => marker.remove());\n    markersRef.current = {};\n\n    // Add markers for each peer\n    peers.forEach(peer => {\n      if (peer.location?.latitude && peer.location?.longitude) {\n        const isCurrentPeer = peer?.name === warhammerInfo?.name;\n        const markerEl = createCustomMarker(peer, isCurrentPeer);\n\n        const marker = new mapboxgl.Marker({\n          element: markerEl,\n          anchor: 'bottom'\n        })\n          .setLngLat([peer.location.longitude, peer.location.latitude])\n          .addTo(map.current);\n\n        // Add popup\n        const popup = new mapboxgl.Popup({\n          closeButton: false,\n          closeOnClick: false,\n          offset: 25,\n          className: 'custom-popup'\n        })\n          .setHTML(`\n            <div class=\"popup-content\">\n              <h3>${peer.name || 'Unknown'}</h3>\n              <p>IP: ${peer.ip || 'N/A'}</p>\n              <p>Status: ${peer.connected ? 'Connected' : 'Disconnected'}</p>\n              <p>Last Update: ${peer.location?.last_update || 'N/A'}</p>\n            </div>\n          `);\n\n        markerEl.addEventListener('mouseenter', () => {\n          marker.setPopup(popup);\n          popup.addTo(map.current);\n        });\n\n        markerEl.addEventListener('mouseleave', () => {\n          popup.remove();\n        });\n\n        markersRef.current[peer.id] = marker;\n      }\n    });\n  };\n\n  const toggle3DBuildings = () => {\n    if (!map.current) return;\n\n    const layers = map.current.getStyle().layers;\n    const buildingLayer = layers.find(layer => layer.id === 'building-3d');\n\n    if (show3DBuildings) {\n      // Remove 3D buildings\n      if (buildingLayer) {\n        map.current.removeLayer('building-3d');\n      }\n    } else {\n      // Add 3D buildings if not present\n      if (!buildingLayer) {\n        map.current.addLayer({\n          'id': 'building-3d',\n          'source': 'composite',\n          'source-layer': 'building',\n          'filter': ['==', 'extrude', 'true'],\n          'type': 'fill-extrusion',\n          'minzoom': 15,\n          'paint': {\n            'fill-extrusion-color': '#aaa',\n            'fill-extrusion-height': [\n              'interpolate', ['linear'], ['zoom'],\n              15, 0,\n              15.05, ['get', 'height']\n            ],\n            'fill-extrusion-base': [\n              'interpolate', ['linear'], ['zoom'],\n              15, 0,\n              15.05, ['get', 'min_height']\n            ],\n            'fill-extrusion-opacity': 0.6\n          }\n        });\n      }\n    }\n    setShow3DBuildings(!show3DBuildings);\n  };\n\n  // Initialize map after brief wait for peers\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setWaitingForPeers(false);\n    }, 750);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Initialize map\n  useEffect(() => {\n    if (waitingForPeers) return;\n\n    if (!map.current) {\n      map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: MAP_STYLE_URLS.dark,\n        center: [0, 0],\n        zoom: 1,\n        attributionControl: false,\n        pitch: 45\n      });\n\n      mapInstance.current = map.current;\n      map.current.addControl(new mapboxgl.NavigationControl(), 'top-left');\n\n      map.current.on('load', () => {\n        mapLoaded.current = true;\n        // Add sky layer on initial load\n        addSkyLayer();\n        \n        // Only fit to bounds if we already have peers\n        if (peers?.length) {\n          fitMapToPeers();\n          setIsInitialized(true);\n        }\n      });\n    }\n\n    return () => {\n      if (map.current) {\n        mapInstance.current = null;\n        Object.values(markersRef.current).forEach(marker => marker.remove());\n        map.current.remove();\n        map.current = null;\n      }\n    };\n  }, [waitingForPeers]);\n\n  // Handle peer updates\n  useEffect(() => {\n    // Update markers regardless of initialization state\n    if (map.current) {\n      updateMarkers();\n    }\n\n    // Only fit to bounds if map is loaded but not yet initialized\n    if (mapLoaded.current && !isInitialized && peers?.length > 0) {\n      fitMapToPeers();\n      setIsInitialized(true);\n    }\n  }, [peers, warhammerInfo, waitingForPeers]);\n\n  return (\n    <MapContainer ref={mapContainer}>\n      {waitingForPeers && (\n        <LoadingSpinner message=\"Loading Network...\" />\n      )}\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '10px', right: '10px' }}>\n        <button\n          onClick={toggleFullscreen}\n          title=\"Toggle Fullscreen\"\n        >\n          {isFullscreen ? <FiMinimize /> : <FiMaximize />}\n        </button>\n      </MapControl>\n\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '50px', right: '10px' }}>\n        <button \n          onClick={() => {\n            fitMapToPeers();\n          }}\n          title=\"Reset Map View\"\n        >\n          <FiRefreshCw />\n        </button>\n      </MapControl>\n\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '90px', right: '10px' }}>\n        <button\n          onClick={toggle3DBuildings}\n          className={show3DBuildings ? 'active' : ''}\n          title=\"Toggle 3D Buildings\"\n        >\n          <FiLayers />\n        </button>\n      </MapControl>\n\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '130px', right: '10px' }}>\n        <button\n          onClick={toggleTerrain}\n          className={showTerrain ? 'active' : ''}\n          title=\"Toggle Terrain\"\n        >\n          <FiMap />\n        </button>\n      </MapControl>\n\n      <StyleSelect>\n        <select value={currentStyle} onChange={changeMapStyle}>\n          {Object.entries(MAP_STYLES).map(([value, label]) => (\n            <option key={value} value={value}>\n              {label}\n            </option>\n          ))}\n        </select>\n      </StyleSelect>\n\n    </MapContainer>\n  );\n};\n\nexport default MapBox; ","import { useQuery } from '@tanstack/react-query';\nimport { fetchPeers } from '../service/warhammer';\nimport { formatPeerData } from '../redux/slices/vpnSlice';\n\nconst usePeersQuery = (options = {}) => {\n  const { pausePolling = false, ...queryOptions } = options;\n  \n  return useQuery({\n    queryKey: ['peers'],\n    queryFn: async () => {\n      const startTime = Date.now();\n      try {\n        const peers = await fetchPeers();\n        const responseTime = Date.now() - startTime;\n        \n        // Log response time for monitoring\n        if (responseTime > 10000) {\n          console.warn(`Slow peers response: ${responseTime}ms`);\n        }\n        \n        // Check if peers is an array and has data\n        if (!Array.isArray(peers)) {\n          console.error('Peers data is not an array:', typeof peers, peers);\n          return [];\n        }\n        \n        if (peers.length === 0) {\n          console.log('No peers returned from API');\n          return [];\n        }\n        \n        const formattedPeers = formatPeerData(peers);\n        const sortedPeers = formattedPeers.sort((a, b) => {\n          if (a.connected === b.connected) {\n            return a.name.localeCompare(b.name);\n          }\n          return a.connected ? -1 : 1;\n        });\n        \n        return sortedPeers;\n      } catch (error) {\n        const responseTime = Date.now() - startTime;\n        console.error(`Peers query failed after ${responseTime}ms:`, error);\n        throw error;\n      }\n    },\n    \n    // Adaptive polling based on data state and network conditions\n    refetchInterval: (query) => {\n      // Pause polling if requested\n      if (pausePolling) {\n        return false;\n      }\n      \n      const data = query.state.data;\n      const error = query.state.error;\n      const failureCount = query.state.failureCount;\n      \n      // If there's an error and we've failed multiple times, slow down\n      if (error && failureCount > 1) {\n        return Math.min(60000 * failureCount, 300000); // 1-5 minutes\n      }\n      \n      // If we have no data, poll more frequently\n      if (!data || data.length === 0) {\n        return 5000; // 5 seconds\n      }\n      \n      // If we have connected peers, poll more frequently\n      const connectedPeers = data.filter(peer => peer.connected);\n      if (connectedPeers.length > 0) {\n        return 15000; // 15 seconds\n      }\n      \n      // If no connected peers, poll less frequently\n      return 30000; // 30 seconds\n    },\n    \n    // Background polling and network awareness\n    refetchIntervalInBackground: true,\n    refetchOnWindowFocus: true,\n    refetchOnReconnect: true,\n    \n    // Smart retry configuration\n    retry: (failureCount, error) => {\n      // Don't retry on auth errors\n      if (error?.status === 401 || error?.status === 403) {\n        return false;\n      }\n      \n      // Don't retry on network errors after 2 attempts\n      if (error?.message?.includes('Network Error') && failureCount >= 2) {\n        return false;\n      }\n      \n      // Retry up to 3 times with exponential backoff\n      return failureCount < 3;\n    },\n    \n    // Exponential backoff with jitter\n    retryDelay: (attemptIndex) => {\n      const baseDelay = 1000 * Math.pow(2, attemptIndex);\n      const jitter = Math.random() * 1000;\n      return Math.min(baseDelay + jitter, 30000);\n    },\n    \n    // Cache configuration\n    staleTime: 10 * 1000, // 5 seconds\n    gcTime: 10 * 60 * 1000, // 10 minutes\n    \n    // Error handling\n    onError: (error) => {\n      console.error('Peers query error:', error);\n    },\n    \n    // Success handling\n    onSuccess: (data) => {\n      console.log(`Successfully fetched ${data.length} peers`);\n    },\n    \n    // Network quality monitoring\n    onSettled: (data, error) => {\n      if (error) {\n        console.warn('Peers query settled with error:', error.message);\n      } else {\n        console.debug('Peers query settled successfully');\n      }\n    },\n    \n    ...queryOptions,\n  });\n};\n\nexport default usePeersQuery; ","import { useQueryClient } from '@tanstack/react-query';\nimport { useMemo, useEffect, useState, useRef } from 'react';\n\nconst useNetworkQuality = () => {\n  const queryClient = useQueryClient();\n  const [cacheVersion, setCacheVersion] = useState(0);\n  const lastUpdateRef = useRef(0);\n  const queryHistoryRef = useRef(new Map());\n  const queryStartTimesRef = useRef(new Map());\n\n  // Subscribe to query cache updates with throttling\n  useEffect(() => {\n    const unsubscribe = queryClient.getQueryCache().subscribe((event) => {\n      // Update immediately for status changes, but throttle for other updates\n      const now = Date.now();\n      const shouldUpdate = now - lastUpdateRef.current > 1000; // Reduced to 1 second\n      \n      if (shouldUpdate) {\n        lastUpdateRef.current = now;\n        setCacheVersion(prev => prev + 1);\n      }\n    });\n    \n    return unsubscribe;\n  }, [queryClient]);\n\n  return useMemo(() => {\n    // Get all queries from the cache\n    const queries = queryClient.getQueryCache().getAll();\n    \n    // Filter for active queries - only 'peers' for now since that's the only React Query\n    const activeQueries = queries.filter(query => {\n      const key = query.queryKey[0];\n      return key === 'peers';\n    });\n    \n    if (activeQueries.length === 0) {\n      return {\n        quality: 1.0,\n        status: 'unknown',\n        totalQueries: 0,\n        successfulQueries: 0,\n        failedQueries: 0,\n        averageResponseTime: 0,\n        lastError: null\n      };\n    }\n    \n    // Update query history\n    activeQueries.forEach(query => {\n      const key = query.queryKey[0];\n      const history = queryHistoryRef.current.get(key) || { \n        total: 0, \n        successful: 0, \n        failed: 0, \n        responseTimes: [],\n        lastStatus: null,\n        lastDataUpdatedAt: 0\n      };\n      \n      const currentStatus = query.state.status;\n      const currentDataUpdatedAt = query.state.dataUpdatedAt;\n      const currentFetchStatus = query.state.fetchStatus;\n      \n      // Track when queries start - handle multiple scenarios\n      if (currentFetchStatus === 'fetching' && !queryStartTimesRef.current.has(key)) {\n        queryStartTimesRef.current.set(key, Date.now());\n      }\n      \n      // Check if this is a new successful query (dataUpdatedAt changed)\n      if (currentStatus === 'success' && currentDataUpdatedAt > history.lastDataUpdatedAt) {\n        history.total++;\n        history.successful++;\n        history.lastDataUpdatedAt = currentDataUpdatedAt;\n        \n        // Calculate response time using start time\n        const startTime = queryStartTimesRef.current.get(key);\n        if (startTime && currentDataUpdatedAt > 0) {\n          const responseTime = currentDataUpdatedAt - startTime;\n          if (responseTime > 0 && responseTime < 60000) { // Only count reasonable response times\n            history.responseTimes.push(responseTime);\n            // Keep only the last 5 response times for more live quality assessment\n            if (history.responseTimes.length > 5) {\n              history.responseTimes.shift();\n            }\n          }\n        } else {\n          // Fallback: estimate response time based on dataUpdatedAt if we don't have a start time\n          if (currentDataUpdatedAt > 0) {\n            // Use a conservative estimate based on the last successful query or default to 1000ms\n            const estimatedResponseTime = history.responseTimes.length > 0 \n              ? history.responseTimes[history.responseTimes.length - 1] \n              : 1000;\n            history.responseTimes.push(estimatedResponseTime);\n            // Keep only the last 5 response times for more live quality assessment\n            if (history.responseTimes.length > 5) {\n              history.responseTimes.shift();\n            }\n          }\n        }\n        \n        // Clear the start time for this query\n        queryStartTimesRef.current.delete(key);\n        \n        queryHistoryRef.current.set(key, history);\n      }\n      // Check if this is a new error\n      else if (currentStatus === 'error' && currentStatus !== history.lastStatus) {\n        history.total++;\n        history.failed++;\n        history.lastStatus = currentStatus;\n        \n        // Clear the start time for this query\n        queryStartTimesRef.current.delete(key);\n        \n        queryHistoryRef.current.set(key, history);\n      }\n      // Update last status for tracking\n      else if (currentStatus !== history.lastStatus) {\n        history.lastStatus = currentStatus;\n        queryHistoryRef.current.set(key, history);\n      }\n    });\n    \n    // Calculate quality metrics from history\n    let totalQueries = 0;\n    let successfulQueries = 0;\n    let failedQueries = 0;\n    let totalResponseTime = 0;\n    let responseTimeCount = 0;\n    let lastError = null;\n    \n    // Get the peers query history\n    const peersHistory = queryHistoryRef.current.get('peers');\n    if (peersHistory) {\n      totalQueries = peersHistory.total;\n      successfulQueries = peersHistory.successful;\n      failedQueries = peersHistory.failed;\n      totalResponseTime = peersHistory.responseTimes.reduce((sum, time) => sum + time, 0);\n      responseTimeCount = peersHistory.responseTimes.length;\n    }\n    \n    // Also check current query state for immediate feedback\n    activeQueries.forEach((query, index) => {\n      if (query.state.status === 'error' && !lastError) {\n        lastError = query.state.error;\n      }\n    });\n    \n    const successRate = totalQueries > 0 ? successfulQueries / totalQueries : 1;\n    const averageResponseTime = responseTimeCount > 0 ? totalResponseTime / responseTimeCount : 0;\n    \n    // Calculate quality score (0.0 to 1.0)\n    let quality = successRate;\n    \n    // Adjust quality based on response times\n    if (averageResponseTime > 0) {\n      if (averageResponseTime > 5000) { // > 5 seconds\n        quality *= 0.5;\n      } else if (averageResponseTime > 2500) { // > 2.5 seconds\n        quality *= 0.7;\n      } else if (averageResponseTime < 1000) { // < 1 second\n        quality *= 1.1;\n      }\n    }\n    \n    // Adjust quality based on failure rate\n    if (failedQueries > 0) {\n      const failurePenalty = Math.pow(0.8, failedQueries);\n      quality *= failurePenalty;\n    }\n    \n    quality = Math.max(0.0, Math.min(1.0, quality));\n    \n    // Determine status\n    let status = 'excellent';\n    if (quality < 0.5) status = 'poor';\n    else if (quality < 0.8) status = 'moderate';\n    else if (quality < 0.95) status = 'good';\n    \n    return {\n      quality,\n      status,\n      totalQueries,\n      successfulQueries,\n      failedQueries,\n      averageResponseTime,\n      lastError\n    };\n  }, [queryClient, cacheVersion]); // Re-run when cache version changes\n};\n\nexport default useNetworkQuality;","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalTitle,\n  CloseButton,\n  FormGroup,\n  Button,\n} from '../../../styles/components/Modal.styles';\n\nconst WarningText = styled.div`\n  color: ${({ theme }) => theme.colors.text.error};\n  margin: ${({ theme }) => theme.spacing.large} 0;\n  font-weight: ${({ theme }) => theme.typography.weights.medium};\n  font-size: ${({ theme }) => theme.typography.sizes.medium};\n`;\n\nconst PeerInfo = styled.div`\n  background: ${({ theme }) => theme.colors.background.base};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: ${({ theme }) => theme.spacing.medium};\n  margin: ${({ theme }) => theme.spacing.medium} 0;\n`;\n\nconst PeerName = styled.div`\n  font-weight: ${({ theme }) => theme.typography.weights.medium};\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: ${({ theme }) => theme.spacing.small};\n`;\n\nconst PeerDetails = styled.div`\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: ${({ theme }) => theme.spacing.medium};\n  justify-content: flex-end;\n  margin-top: ${({ theme }) => theme.spacing.large};\n`;\n\nconst ActionDetails = styled.div`\n  color: ${({ theme }) => theme.colors.text.muted};\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n`;\n\nconst ActionList = styled.ul`\n  margin: ${({ theme }) => theme.spacing.small} 0;\n  padding-left: ${({ theme }) => theme.spacing.large};\n  color: ${({ theme }) => theme.colors.text.muted};\n`;\n\nconst ActionListItem = styled.li`\n  margin-bottom: ${({ theme }) => theme.spacing.small};\n  line-height: 1.4;\n`;\n\nconst DeletePeerModal = ({ isOpen, onClose, onConfirm, peer }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleConfirm = async () => {\n    setLoading(true);\n    try {\n      await onConfirm();\n      onClose();\n    } catch (error) {\n      console.error('Failed to delete peer:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen || !peer) return null;\n\n  return (\n    <ModalOverlay onClick={onClose}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <ModalHeader>\n          <ModalTitle>Remove Network Peer</ModalTitle>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </ModalHeader>\n\n        <WarningText>\n           Warning: This will permanently remove the peer from your network.\n        </WarningText>\n\n        <PeerInfo>\n          <PeerName>\n            {peer.name || peer.id || 'Unknown Peer'}\n          </PeerName>\n          <PeerDetails>\n            <div>IP Address: {peer.ip || 'N/A'}</div>\n            <div>Status: {peer.connected ? 'Connected' : 'Disconnected'}</div>\n            {peer.location?.latitude && peer.location?.longitude && (\n              <div>Location: {peer.location.latitude.toFixed(6)}, {peer.location.longitude.toFixed(6)}</div>\n            )}\n          </PeerDetails>\n        </PeerInfo>\n\n        <ActionDetails>\n          This action will:\n          <ActionList>\n            <ActionListItem>Remove the peer from your network configuration</ActionListItem>\n            <ActionListItem>Disconnect the peer from the VPN</ActionListItem>\n            <ActionListItem>Require the peer to be re-added if you want to reconnect</ActionListItem>\n          </ActionList>\n        </ActionDetails>\n\n        <ButtonGroup>\n          <Button onClick={onClose} disabled={loading}>\n            Cancel\n          </Button>\n          <Button \n            onClick={handleConfirm} \n            $danger \n            disabled={loading}\n          >\n            {loading ? \"Removing...\" : \"Remove Peer\"}\n          </Button>\n        </ButtonGroup>\n      </ModalContent>\n    </ModalOverlay>\n  );\n};\n\nexport default DeletePeerModal;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport {\n  Table,\n  TableHeader,\n  TableRow,\n  TableCell,\n  StatusDot\n} from '../../../styles/components/Table.styles';\nimport {\n  Button,\n} from '../../../styles/components/Modal.styles';\nimport { deleteVpnPeerAction } from '../../../redux/slices/vpnSlice';\nimport { mapInstance } from '../map/MapBox';\nimport styled from 'styled-components';\nimport * as mgrs from 'mgrs';\nimport { FiToggleLeft, FiToggleRight } from 'react-icons/fi';\nimport { useAuth } from '../../../context/AuthContext';\nimport { useLicense } from '../../../context/LicenseContext';\nimport { usePollingPause } from '../../../context/PollingPauseContext';\nimport usePeersQuery from '../../../hooks/usePeersQuery';\nimport useNetworkQuality from '../../../hooks/useNetworkQuality';\nimport DeletePeerModal from './DeletePeerModal';\n\nconst LocationLink = styled.a`\n  color: ${({ theme }) => theme.colors.accent};\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst LocationToggle = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.muted};\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.small};\n  padding: 0;\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.text.primary};\n  }\n\n  svg {\n    width: 1.2em;\n    height: 1.2em;\n  }\n`;\n\nconst QualityDot = styled.div`\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: ${({ $quality }) => {\n    if ($quality >= 0.8) return '#28a745';\n    if ($quality >= 0.5) return '#ffc107';\n    return '#dc3545';\n  }};\n`;\n\nconst NetworkQualityFooter = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 16px;\n  margin-top: 16px;\n  border-top: 1px solid ${({ theme }) => theme.colors.border};\n  background: ${({ theme }) => theme.colors.background.surface};\n`;\n\nconst NetworkQualityLabel = styled.div`\n  font-size: 12px;\n  color: ${({ theme }) => theme.colors.text.muted};\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-weight: 500;\n`;\n\nconst NetworkQualityDisplay = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: 500;\n  cursor: help;\n  position: relative;\n`;\n\nconst NetworkQualityTooltip = styled.div`\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: ${({ theme }) => theme.colors.background.surface};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: 12px;\n  font-size: 12px;\n  color: ${({ theme }) => theme.colors.text.primary};\n  white-space: nowrap;\n  z-index: 1000;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;\n  pointer-events: none;\n  width: 500px;\n  white-space: normal;\n  text-align: center;\n\n  ${NetworkQualityDisplay}:hover & {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 5px solid transparent;\n    border-top-color: ${({ theme }) => theme.colors.border};\n  }\n`;\n\nconst WarhammerNetworkPeers = () => {\n  const dispatch = useDispatch();\n  const { userInfo } = useAuth();\n  const { userId } = userInfo;\n  const { roles } = userInfo || [];\n  const isAdmin = roles?.includes('admin');\n  \n  const { canAccessPeers, shouldShowRestrictedContent } = useLicense();\n  const { isPollingPaused } = usePollingPause();\n  \n  const [showMgrs, setShowMgrs] = useState(false);\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\n  const [peerToDelete, setPeerToDelete] = useState(null);\n\n  const { data: peers, isLoading, isError, error } = usePeersQuery({ \n    pausePolling: isPollingPaused \n  });\n  const warhammerInfo = useSelector((state) => state.warhammer.data.info) || {};\n  const networkQuality = useNetworkQuality();\n\n  const handleDeletePeer = (peer) => {\n    setPeerToDelete(peer);\n    setDeleteModalOpen(true);\n  };\n\n  const confirmDeletePeer = async () => {\n    if (peerToDelete) {\n      await dispatch(deleteVpnPeerAction(peerToDelete.id || peerToDelete.name));\n      setPeerToDelete(null);\n    }\n  };\n\n  const closeDeleteModal = () => {\n    setDeleteModalOpen(false);\n    setPeerToDelete(null);\n  };\n\n  const getPeerStatus = (peer) => {\n    if (peer.connected) {\n      return 'connected';\n    } else {\n      return 'disconnected';\n    }\n  }\n\n  const handleLocationClick = (peer, e) => {\n    e.preventDefault();\n    mapInstance.fitToPeer(peer);\n  };\n\n  const fixToNDigits = (value, digits = 6) => {\n    if (!value) {\n      return 0;\n    }\n\n    if (typeof value === 'number') {\n      return value.toFixed(digits);\n    }\n\n    return value;\n  }\n\n  const formatLocation = (peer) => {\n    if (!peer.location?.latitude || !peer.location?.longitude) {\n      return 'N/A';\n    }\n\n    let linkText = `${fixToNDigits(peer?.location?.latitude)}, ${fixToNDigits(peer?.location?.longitude)}`;\n    let tooltipText = peer?.location?.last_update ? `GPS updated ${peer.location.last_update}` : '';\n\n    if (showMgrs) {\n      try {\n        const mgrsString = mgrs.forward([peer?.location?.longitude, peer?.location?.latitude]);\n        linkText = mgrsString;\n      } catch (error) {\n        console.error('Failed to convert to MGRS:', error);\n        return 'Invalid coordinates';\n      }\n    }\n\n    return (\n      <>\n        <LocationLink\n          href=\"#\"\n          onClick={(e) => handleLocationClick(peer, e)}\n          title={tooltipText}\n        >\n          {linkText}\n        </LocationLink>\n      </>\n    );\n  };\n\n  // If user can't access peers, don't render anything\n  if (!canAccessPeers) {\n    return null;\n  }\n\n  return (\n    <>\n      <Table id=\"peers-table\">\n        <thead>\n          <tr>\n            <TableHeader>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                Peer Name\n              </div>\n            </TableHeader>\n            <TableHeader>WARHAMMER IP</TableHeader>\n            <TableHeader>Status</TableHeader>\n            <TableHeader>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                Location\n                <LocationToggle\n                  onClick={() => setShowMgrs(!showMgrs)}\n                  title={showMgrs ? \"Show Coordinates\" : \"Show MGRS\"}\n                >\n                  {showMgrs ? <FiToggleRight /> : <FiToggleLeft />}\n                  {showMgrs ? 'MGRS' : 'Coords'}\n                </LocationToggle>\n              </div>\n            </TableHeader>\n            {isAdmin && shouldShowRestrictedContent(roles) && <TableHeader>Actions</TableHeader>}\n          </tr>\n        </thead>\n        <tbody>\n          {(!peers || peers.length === 0) ? (\n            <TableRow>\n              <TableCell colSpan={isAdmin && shouldShowRestrictedContent(roles) ? 5 : 4}>\n                {isLoading ? 'Loading peers...' : isError ? `Error: ${error?.message || 'Failed to load peers'}` : 'No Peers'}\n              </TableCell>\n            </TableRow>\n          ) : (\n            _.map(peers, (peer) => {\n              const exitNode = peer.name?.toLowerCase().startsWith('wh-r');\n\n              return (\n                <TableRow\n                  key={peer.id || peer.name}\n                  className={peer.name === warhammerInfo.name ? 'current-peer' : ''}\n                >\n                  <TableCell>\n                    <StatusDot $status={getPeerStatus(peer)} />\n                    {(peer.name || peer.id || 'Unknown').toUpperCase()}\n                  </TableCell>\n                  <TableCell>\n                    {peer.ip ?\n                      !exitNode ? (\n                        <a href={`http://${peer.ip}/management`} target=\"_blank\" rel=\"noopener noreferrer\">\n                          {peer.ip}\n                        </a>\n                      ) : (\n                        peer.ip\n                      ) : 'N/A'}\n                  </TableCell>\n                  <TableCell>{peer.connected ? 'Connected' : 'Disconnected'}</TableCell>\n                  <TableCell>\n                    {formatLocation(peer)}\n                  </TableCell>\n                  {isAdmin && shouldShowRestrictedContent(roles) && (\n                    <TableCell>\n                      {!exitNode && <Button onClick={() => handleDeletePeer(peer)}>Remove Peer</Button>}\n                    </TableCell>\n                  )}\n                </TableRow>\n              );\n            })\n          )}\n        </tbody>\n      </Table>\n      <NetworkQualityFooter>\n        <NetworkQualityLabel>Warhammer Network Quality:</NetworkQualityLabel>\n        <NetworkQualityDisplay $quality={networkQuality?.quality || 0}>\n          <QualityDot $quality={networkQuality?.quality || 0} />\n          {Math.round((networkQuality?.quality || 0) * 100)}%\n          <NetworkQualityTooltip>\n            <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>Network Quality Calculation</div>\n            <div> Success Rate: {networkQuality?.totalQueries > 0 ? ((networkQuality?.successfulQueries || 0) / (networkQuality?.totalQueries || 1) * 100).toFixed(1) : 100}% successful</div>\n            <div> Response Time: {networkQuality?.averageResponseTime ? networkQuality.averageResponseTime.toFixed(0) : 0}ms average (last 5 requests)</div>\n            <div> Quality Score: Based on success rate, response times, and failure penalties</div>\n            <div style={{ fontSize: '10px', marginTop: '4px', opacity: 0.7 }}>\n              Rolling average of last 5 requests | Green: 80% | Yellow: 50-79% | Red: &lt;50%\n            </div>\n          </NetworkQualityTooltip>\n        </NetworkQualityDisplay>\n      </NetworkQualityFooter>\n      <DeletePeerModal\n        isOpen={deleteModalOpen}\n        onClose={closeDeleteModal}\n        onConfirm={confirmDeletePeer}\n        peer={peerToDelete}\n      />\n    </>\n  );\n};\n\nexport default WarhammerNetworkPeers;","import React, { useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, MapOverlay, MapControl, StyleSelect } from '../../../styles/components/Map.styles';\nimport { FiMaximize, FiMinimize, FiRefreshCw, FiLayers, FiMap } from 'react-icons/fi';\nimport LoadingSpinner from '../../common/LoadingSpinner';\n\n// Fix for default markers in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nexport const fallbackMapInstance = {\n  current: null,\n  fitToPeer: (peer) => {\n    if (!fallbackMapInstance.current || !peer?.location?.latitude || !peer?.location?.longitude) return;\n\n    fallbackMapInstance.current.setView(\n      [peer.location.latitude, peer.location.longitude],\n      15,\n      { animate: true }\n    );\n  }\n};\n\nconst FALLBACK_MAP_STYLES = {\n  basic: 'Basic',\n  dark: 'Dark',\n  light: 'Light',\n  satellite: 'Satellite',\n};\n\n// Self-hosted tile server URLs - these should point to your local tile server\nconst FALLBACK_TILE_URLS = {\n  basic: 'http://localhost:3001/tiles/basic/{z}/{x}/{y}.png', // Basic OpenStreetMap style\n  dark: 'http://localhost:3001/tiles/dark/{z}/{x}/{y}.png', // Dark theme\n  light: 'http://localhost:3001/tiles/light/{z}/{x}/{y}.png', // Light theme\n  satellite: 'http://localhost:3001/tiles/satellite/{z}/{x}/{y}.png', // Satellite imagery\n};\n\n// Fallback to online tiles if local tiles are not available\nconst ONLINE_FALLBACK_URLS = {\n  basic: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n  dark: 'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',\n  light: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',\n  satellite: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n};\n\nconst createCustomMarker = (peer, isCurrentPeer) => {\n  const markerColor = isCurrentPeer ? '#007bff' : (peer.connected ? '#4CAF50' : '#ff4444');\n  \n  return L.divIcon({\n    className: 'custom-marker',\n    html: `\n      <div style=\"\n        width: ${isCurrentPeer ? '16px' : '12px'}; \n        height: ${isCurrentPeer ? '16px' : '12px'}; \n        background: ${markerColor}; \n        border-radius: 50%; \n        border: 2px solid white; \n        box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\n        position: relative;\n      \">\n        <div style=\"\n          position: absolute;\n          top: -20px;\n          left: 50%;\n          transform: translateX(-50%);\n          background: rgba(0, 0, 0, 0.8);\n          color: white;\n          padding: 2px 6px;\n          border-radius: 4px;\n          font-size: 10px;\n          white-space: nowrap;\n          z-index: 1000;\n        \">${peer.name || 'Unknown'}</div>\n      </div>\n    `,\n    iconSize: [isCurrentPeer ? 16 : 12, isCurrentPeer ? 16 : 12],\n    iconAnchor: [isCurrentPeer ? 8 : 6, isCurrentPeer ? 8 : 6],\n  });\n};\n\nconst FallbackMap = () => {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const peers = useSelector((state) => state.vpn.peers);\n  const warhammerInfo = useSelector((state) => state.warhammer.data.info);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [currentStyle, setCurrentStyle] = useState('basic');\n  const markersRef = useRef({});\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [waitingForPeers, setWaitingForPeers] = useState(true);\n  const [tileLayer, setTileLayer] = useRef(null);\n  const [isOnline, setIsOnline] = useState(true);\n\n  // Check if local tiles are available\n  const checkLocalTiles = async (style) => {\n    try {\n      const testUrl = FALLBACK_TILE_URLS[style].replace('{z}', '0').replace('{x}', '0').replace('{y}', '0');\n      const response = await fetch(testUrl, { method: 'HEAD' });\n      return response.ok;\n    } catch (error) {\n      return false;\n    }\n  };\n\n  // Initialize map\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setWaitingForPeers(false);\n    }, 750);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    if (waitingForPeers) return;\n\n    if (!map.current) {\n      map.current = L.map(mapContainer.current, {\n        center: [0, 0],\n        zoom: 1,\n        zoomControl: false,\n        attributionControl: false,\n      });\n\n      fallbackMapInstance.current = map.current;\n\n      // Add zoom control\n      L.control.zoom({ position: 'topleft' }).addTo(map.current);\n\n      // Initialize with basic style\n      initializeTileLayer('basic');\n    }\n\n    return () => {\n      if (map.current) {\n        fallbackMapInstance.current = null;\n        Object.values(markersRef.current).forEach(marker => marker.remove());\n        map.current.remove();\n        map.current = null;\n      }\n    };\n  }, [waitingForPeers]);\n\n  const initializeTileLayer = async (style) => {\n    if (!map.current) return;\n\n    // Remove existing tile layer\n    if (tileLayer.current) {\n      map.current.removeLayer(tileLayer.current);\n    }\n\n    // Try local tiles first\n    const localTilesAvailable = await checkLocalTiles(style);\n    \n    if (localTilesAvailable) {\n      tileLayer.current = L.tileLayer(FALLBACK_TILE_URLS[style], {\n        attribution: 'Local Tiles',\n        maxZoom: 18,\n      });\n      setIsOnline(false);\n    } else {\n      // Fallback to online tiles\n      tileLayer.current = L.tileLayer(ONLINE_FALLBACK_URLS[style], {\n        attribution: ' OpenStreetMap contributors',\n        maxZoom: 18,\n        subdomains: style === 'basic' ? 'abc' : 'abcd',\n      });\n      setIsOnline(true);\n    }\n\n    tileLayer.current.addTo(map.current);\n  };\n\n  const changeMapStyle = async (event) => {\n    const style = event.target.value;\n    setCurrentStyle(style);\n    await initializeTileLayer(style);\n  };\n\n  const fitMapToPeers = () => {\n    if (!map.current || !peers?.length) return;\n\n    const bounds = L.latLngBounds();\n    let hasValidBounds = false;\n\n    peers.forEach(peer => {\n      if (peer.location?.latitude && peer.location?.longitude) {\n        bounds.extend([peer.location.latitude, peer.location.longitude]);\n        hasValidBounds = true;\n      }\n    });\n\n    if (hasValidBounds) {\n      map.current.fitBounds(bounds, {\n        padding: [50, 50],\n        maxZoom: 15\n      });\n    }\n  };\n\n  const updateMarkers = () => {\n    if (!map.current) return;\n\n    // Remove existing markers\n    Object.values(markersRef.current).forEach(marker => marker.remove());\n    markersRef.current = {};\n\n    // Add markers for each peer\n    peers.forEach(peer => {\n      if (peer.location?.latitude && peer.location?.longitude) {\n        const isCurrentPeer = peer?.name === warhammerInfo?.name;\n        const marker = L.marker([peer.location.latitude, peer.location.longitude], {\n          icon: createCustomMarker(peer, isCurrentPeer)\n        }).addTo(map.current);\n\n        // Add popup\n        const popup = L.popup({\n          closeButton: false,\n          closeOnClick: false,\n          offset: [0, -25],\n          className: 'custom-popup'\n        }).setHTML(`\n          <div class=\"popup-content\">\n            <h3>${peer.name || 'Unknown'}</h3>\n            <p>IP: ${peer.ip || 'N/A'}</p>\n            <p>Status: ${peer.connected ? 'Connected' : 'Disconnected'}</p>\n            <p>Last Update: ${peer.location?.last_update || 'N/A'}</p>\n          </div>\n        `);\n\n        marker.on('mouseover', () => {\n          marker.bindPopup(popup).openPopup();\n        });\n\n        marker.on('mouseout', () => {\n          marker.closePopup();\n        });\n\n        markersRef.current[peer.id] = marker;\n      }\n    });\n  };\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      mapContainer.current.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n\n  // Handle peer updates\n  useEffect(() => {\n    if (map.current) {\n      updateMarkers();\n    }\n\n    if (map.current && !isInitialized && peers?.length > 0) {\n      fitMapToPeers();\n      setIsInitialized(true);\n    }\n  }, [peers, warhammerInfo, waitingForPeers]);\n\n  return (\n    <MapContainer ref={mapContainer}>\n      {waitingForPeers && (\n        <LoadingSpinner message=\"Loading Network...\" />\n      )}\n      \n      {/* Connection status indicator */}\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '10px', left: '10px' }}>\n        <div style={{\n          padding: '5px 10px',\n          fontSize: '12px',\n          color: isOnline ? '#ffa500' : '#4CAF50',\n          backgroundColor: 'rgba(0,0,0,0.7)',\n          borderRadius: '4px'\n        }}>\n          {isOnline ? 'Online Tiles' : 'Local Tiles'}\n        </div>\n      </MapControl>\n\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '50px', right: '10px' }}>\n        <button\n          onClick={toggleFullscreen}\n          title=\"Toggle Fullscreen\"\n        >\n          {isFullscreen ? <FiMinimize /> : <FiMaximize />}\n        </button>\n      </MapControl>\n\n      <MapControl className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" style={{ top: '90px', right: '10px' }}>\n        <button \n          onClick={fitMapToPeers}\n          title=\"Reset Map View\"\n        >\n          <FiRefreshCw />\n        </button>\n      </MapControl>\n\n      <StyleSelect>\n        <select value={currentStyle} onChange={changeMapStyle}>\n          {Object.entries(FALLBACK_MAP_STYLES).map(([value, label]) => (\n            <option key={value} value={value}>\n              {label}\n            </option>\n          ))}\n        </select>\n      </StyleSelect>\n    </MapContainer>\n  );\n};\n\nexport default FallbackMap;\n","import React, { useState, useEffect } from 'react';\nimport MapBox from './MapBox';\nimport FallbackMap from './FallbackMap';\nimport LoadingSpinner from '../../common/LoadingSpinner';\n\nconst SmartMap = () => {\n  const [mapboxAvailable, setMapboxAvailable] = useState(null);\n  const [isChecking, setIsChecking] = useState(true);\n\n  // Check if Mapbox is available\n  useEffect(() => {\n    const checkMapboxAvailability = async () => {\n      try {\n        // Check if Mapbox token is available\n        const token = process.env.REACT_APP_MAPBOX_TOKEN;\n        if (!token) {\n          console.warn('Mapbox token not found, using fallback map');\n          setMapboxAvailable(false);\n          setIsChecking(false);\n          return;\n        }\n\n        // Test Mapbox API availability\n        const testUrl = 'https://api.mapbox.com/styles/v1/mapbox/dark-v11?access_token=' + token;\n        const response = await fetch(testUrl, { \n          method: 'HEAD',\n          // Add a timeout to prevent hanging\n          signal: AbortSignal.timeout(5000)\n        });\n\n        if (response.ok) {\n          setMapboxAvailable(true);\n        } else {\n          console.warn('Mapbox API not responding, using fallback map');\n          setMapboxAvailable(false);\n        }\n      } catch (error) {\n        console.warn('Mapbox check failed, using fallback map:', error);\n        setMapboxAvailable(false);\n      } finally {\n        setIsChecking(false);\n      }\n    };\n\n    checkMapboxAvailability();\n  }, []);\n\n  // Show loading while checking\n  if (isChecking) {\n    return (\n      <div style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <LoadingSpinner message=\"Checking map availability...\" />\n      </div>\n    );\n  }\n\n  // Use fallback map if Mapbox is not available\n  if (!mapboxAvailable) {\n    return <FallbackMap />;\n  }\n\n  // Use Mapbox if available\n  return <MapBox />;\n};\n\nexport default SmartMap;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  background-color: ${({ theme }) => theme.colors.background.base};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-family: ${({ theme }) => theme.fonts.primary};\n`;\n\nexport const ContentContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  width: 100%;\n  padding: ${({ theme }) => theme.spacing.large} ${({ theme }) => theme.spacing.large};\n  padding-top: 80px;\n  padding-bottom: 60px;\n  gap: 30px;\n  overflow: hidden;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.tablet}) {\n    flex-direction: column;\n  }\n`;\n\nexport const TableContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.background.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  box-shadow: ${({ theme }) => theme.shadows.card};\n  padding: ${({ theme }) => theme.spacing.large};\n  overflow: hidden;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.tablet}) {\n    width: 100%;\n    flex: none;\n  }\n`;\n\nexport const MainContent = styled(TableContainer)`\n  // Inherits styles from TableContainer but can be customized if needed\n`;\n\nexport const TableScroll = styled.div`\n  flex: 1;\n  overflow-y: auto;\n`; ","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { useAuth } from '../../context/AuthContext';\nimport { useLicense } from '../../context/LicenseContext';\nimport AppHeader from '../header/AppHeader';\nimport AppFooter from '../footer/AppFooter';\nimport WarhammerNetworkPeers from './peers/WarhammerNetworkPeers';\nimport SmartMap from './map/SmartMap';\nimport {\n  ContentContainer,\n  TableContainer,\n  MainContent,\n  TableScroll\n} from '../../styles/components/Layout.styles';\nimport { fetchWarhammerStatus } from '../../redux/slices/warhammerSlice';\n\nconst LayoutContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background: ${({ theme }) => theme.colors.background.base};\n`;\n\nconst ContentWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: ${({ theme }) => theme.colors.background.base};\n`;\n\nconst Footer = styled.footer`\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.large};\n  background: ${({ theme }) => theme.colors.background.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n  border-top: 1px solid ${({ theme }) => theme.colors.border};\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: ${({ theme }) => theme.typography.sizes.small};\n`;\n\nconst StyledToastContainer = styled(ToastContainer)`\n  .Toastify__toast {\n    background: ${({ theme }) => theme.colors.background.surface};\n    color: ${({ theme }) => theme.colors.text.primary};\n    border: 1px solid ${({ theme }) => theme.colors.border};\n  }\n  \n  .Toastify__toast-body {\n    font-family: ${({ theme }) => theme.typography.fontFamily};\n  }\n\n  .Toastify__progress-bar {\n    background: ${({ theme }) => theme.colors.accent};\n  }\n\n  .Toastify__close-button {\n    color: ${({ theme }) => theme.colors.text.muted};\n  }\n`;\n\nconst LicenseRestrictedMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: ${({ theme }) => theme.colors.text.muted};\n  text-align: center;\n  padding: ${({ theme }) => theme.spacing.large};\n  \n  h2 {\n    margin-bottom: ${({ theme }) => theme.spacing.medium};\n    color: ${({ theme }) => theme.colors.text.primary};\n  }\n  \n  p {\n    margin-bottom: ${({ theme }) => theme.spacing.small};\n    max-width: 500px;\n    line-height: 1.5;\n  }\n`;\n\nconst DefaultLayout = () => {\n  const { authToken, vpnUnavailable } = useAuth();\n  const { canAccessPeers, canAccessMap, getLicenseMessage } = useLicense();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchWarhammerStatus());\n  }, [dispatch]);\n\n  if (!authToken) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <LayoutContainer>\n      <StyledToastContainer/>\n      <AppHeader />\n      <ContentWrapper>\n        <ContentContainer>\n          {canAccessPeers ? (\n            <>\n              <TableContainer>\n                <TableScroll>\n                  <WarhammerNetworkPeers />\n                </TableScroll>\n              </TableContainer>\n\n              <MainContent>\n                {canAccessMap && !vpnUnavailable && (\n                  <SmartMap />\n                )}\n              </MainContent>\n            </>\n          ) : (\n            <MainContent>\n              <LicenseRestrictedMessage>\n                <h2>License Required</h2>\n                <p>{getLicenseMessage()}</p>\n                <p>Please go to Config  License Management to activate your license and access all features.</p>\n              </LicenseRestrictedMessage>\n            </MainContent>\n          )}\n        </ContentContainer>\n      </ContentWrapper>\n      <Footer>\n        <AppFooter />\n      </Footer>\n    </LayoutContainer>\n  );\n};\n\nexport default DefaultLayout;\n","import styled from 'styled-components';\n\nexport const ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  padding-top: 80px;\n  z-index: 1000;\n`;\n\nexport const ModalContent = styled.div`\n  background: ${({ theme }) => theme.colors.background.surface};\n  padding: ${({ theme }) => theme.spacing.large};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  box-shadow: ${({ theme }) => theme.shadows.card};\n  width: 80%;\n  max-height: calc(100vh - 120px);\n  overflow-y: auto;\n  position: relative;\n`;\n\nexport const ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n`;\n\nexport const ModalTitle = styled.h2`\n  margin: 0;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.2em;\n`;\n\nexport const CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.muted};\n  cursor: pointer;\n  font-size: 1.5em;\n  padding: 0;\n  \n  &:hover {\n    color: ${({ theme }) => theme.colors.text.primary};\n  }\n`;\n\nexport const ModalGrid = styled.div`\n  display: grid;\n  grid-template-columns: ${props => props.singlePane ? '1fr' : '1fr 2fr'};\n  gap: ${({ theme }) => theme.spacing.large};\n  margin-top: ${({ theme }) => theme.spacing.large};\n`;\n\nexport const ModalPane = styled.div`\n  background: ${({ theme }) => theme.colors.background.base};\n  border-radius: ${({ theme }) => theme.borderRadius.default};\n  padding: ${({ theme }) => theme.spacing.large};\n\n  h3 {\n    color: ${({ theme }) => theme.colors.text.primary};\n    font-size: 1em;\n    font-weight: 500;\n    letter-spacing: 1px;\n    margin-bottom: ${({ theme }) => theme.spacing.medium};\n  }\n\n  form {\n    margin-bottom: ${({ theme }) => theme.spacing.large};\n  }\n`;\n\nexport const FormGroup = styled.div`\n  margin-bottom: ${({ theme }) => theme.spacing.medium};\n`;\n\nexport const Label = styled.label`\n  display: block;\n  margin-bottom: 4px;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 0.85em;\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 8px 12px;\n  background: ${({ theme }) => theme.colors.background.surface};\n  border: 1px solid #444;\n  border-radius: 6px;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-family: ${({ theme }) => theme.fonts.primary};\n  font-size: 0.9em;\n  \n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.accent};\n  }\n`;\n\nexport const Select = styled.select`\n  width: 100%;\n  padding: 8px 12px;\n  background: ${({ theme }) => theme.colors.background.surface};\n  border: 1px solid #444;\n  border-radius: 6px;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-family: ${({ theme }) => theme.fonts.primary};\n  font-size: 0.9em;\n  \n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.accent};\n  }\n\n  option {\n    background: ${({ theme }) => theme.colors.background.surface};\n    color: ${({ theme }) => theme.colors.text.primary};\n    padding: 8px;\n  }\n`;\n\nexport const Button = styled.button`\n  padding: 8px 16px;\n  background: ${props => props.$danger ? props.theme.colors.text.error : props.theme.colors.accent};\n  border: 0px solid;\n  border-radius: 6px;\n  color: white;\n  cursor: pointer;\n  font-weight: ${({ theme }) => theme.typography.weights.medium};\n  font-size: 0.85em;\n  font-family: ${({ theme }) => theme.fonts.primary};\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  margin-right: ${props => props.$last ? '0' : '8px'};\n  \n  &:hover {\n    opacity: 0.9;\n    background: ${props => props.$danger ? props.theme.colors.text.error : props.theme.colors.accent};\n  }\n  \n  &:disabled {\n    background: #444;\n    border-color: #444;\n    cursor: not-allowed;\n  }\n`;\n\nexport const Hr = styled.hr`\n  border: none;\n  border-top: 1px solid #444;\n  margin: ${({ theme }) => theme.spacing.small} 0 ${({ theme }) => theme.spacing.medium};\n`; \n\nexport const ConfigSection = styled.div`\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n`;"],"names":["options","arguments","length","undefined","pausePolling","queryOptions","useQuery","queryKey","queryFn","async","startTime","Date","now","status","getGsmStatus","responseTime","console","warn","concat","error","message","Error","refetchInterval","query","_error$message","data","state","failureCount","includes","Math","min","refetchIntervalInBackground","refetchOnWindowFocus","refetchOnReconnect","retry","_error$message2","_error$message3","retryDelay","attemptIndex","baseDelay","pow","jitter","random","staleTime","gcTime","onError","_error$message4","onSuccess","debug","SignalContainer","styled","div","_templateObject","_taggedTemplateLiteral","_ref","theme","spacing","medium","SignalIcon","_templateObject2","Bar","_templateObject3","_ref2","active","connected","colors","accent","background","surface","_ref3","text","muted","Tooltip","_templateObject4","_ref4","_ref5","small","_ref6","_ref7","borderRadius","default","_ref8","shadows","_ref9","typography","sizes","SignalStrength","_gsmStatus$signal","_gsmStatus$status","_gsmStatus$status2","isPollingPaused","usePollingPause","gsmStatus","isLoading","useGsmStatusQuery","signalQuality","signal","quality","signal_quality","activeBars","strength","sanitizedStrength","String","replace","getActiveBars","isConnected","_jsxs","children","_jsx","map","bar","getTooltipContent","_gsmStatus$status3","_gsmStatus$network","_gsmStatus$network2","_gsmStatus$signal2","networkType","network","access_tech","operator","operator_name","tooltip","lte","rssi","rsrp","rsrq","sn","UserGuideLink","a","primary","TitleContainer","isOpen","onClose","title","leftPaneTitle","rightPaneTitle","leftPane","rightPane","singlePane","ModalOverlay","onClick","ModalContent","e","stopPropagation","ModalHeader","ModalTitle","href","target","FiFileText","CloseButton","ModalGrid","ModalPane","Hr","Table","table","fonts","TableBody","tbody","TableHeader","th","TableRow","tr","TableCell","td","_templateObject5","hyperlink","weights","bold","StatusDot","span","_templateObject6","props","$status","useToast","showSuccess","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","transition","Slide","showError","showInfo","info","showWarning","warning","dispatch","useDispatch","canAccessRoutes","useLicense","peers","useSelector","vpn","routes","addingRoute","deletingRouteId","newRouteNetwork","setNewRouteNetwork","useState","newRouteName","setNewRouteName","selectedPeer","setSelectedPeer","useEffect","getPeers","getRoutes","clearError","TwoPaneModal","style","display","flexDirection","alignItems","justifyContent","padding","textAlign","color","AddRoutePane","onSubmit","event","preventDefault","_","setError","test","trim","_peers$find","_peers$find$groups","baseRoute","metric","keep_route","masquerade","enabled","peer","groups","find","p","id","g","createRouteAction","network_id","unwrap","FormGroup","Label","htmlFor","Select","value","onChange","name","toUpperCase","Input","type","placeholder","Button","disabled","ExistingRoutesPane","colSpan","filter","route","description","split","some","tag","sort","b","_peers$find2","_peers$find3","peerNameA","peerNameB","localeCompare","index","_peers$find4","$danger","$last","deleteRouteAction","routeId","handleDeleteRoute","interfaces","getInterfaces","connections","getGsmConnections","getBridgedStatus","bridged","JsonContainer","base","border","JsonContent","pre","ButtonContainer","large","CopyButton","DescriptionText","_ref10","_ref11","_ref12","JSON","stringify","handleCopyToClipboard","jsonString","navigator","clipboard","writeText","SectionContainer","BridgeButtonContainer","DeleteButton","button","danger","StatusItem","StaticIpConfig","interfaceName","currentIps","onUpdate","isDhcpEnabled","staticIps","setStaticIps","React","newIp","setNewIp","ipError","setIpError","backgroundColor","fontSize","_Fragment","marginBottom","gap","height","handleAddIp","minWidth","ip","handleRemoveIp","ipToRemove","cursor","handleSave","StatusGrid","_ref13","JsonDumpLink","_ref14","_ref15","_ref16","JsonDumpStatusItem","_templateObject7","_ref17","_ref18","_ref19","_templateObject8","_ref20","_ref21","_gsmStatus$hardware","_gsmStatus$sim","_gsmStatus$network3","_gsmStatus$hardware2","_gsmStatus$hardware3","_gsmStatus$hardware4","canAccessNetwork","queryClient","useQueryClient","resumePolling","newIpAddress","setNewIpAddress","newConnection","setNewConnection","apn","username","password","showJsonDump","setShowJsonDump","isBridgeToggleLoading","setIsBridgeToggleLoading","isLoadingGsmStatus","gsmStatusError","gsmConnections","isLoadingGsmConnections","gsmConnectionsError","useGsmConnectionsQuery","bridgedStatus","isLoadingBridgedStatus","bridgedStatusError","useBridgedStatusQuery","ethernetModeMutation","useEthernetModeMutation","useMutation","mutationFn","mode","setEthernetMode","invalidateQueries","ethernetStaticIpsMutation","useEthernetStaticIpsMutation","setEthernetStaticIps","isLoadingInterfaces","interfacesError","useNetworkInterfacesQuery","handleStaticIpUpdate","mutateAsync","NetworkInterfacesPane","toggleBridge","addInterfaceIp","Object","values","order","iface","_iface$interface_name","display_name","addresses","editable","immutable_addresses","removeIp","interface_name","startsWith","dhcp_enabled","currentDhcpEnabled","newMode","handleEthernetDhcpToggle","isPending","is_safe_to_modify","marginTop","CellularPane","power_state","registration","hardware","imei","sim","imsi","phone_number","manufacturer","model","firmware_revision","pointerEvents","keys","iccid","operator_id","emergency_numbers","gid1","addGsmConnection","connection","toggleGsmConnection","handleToggleConnection","deleteGsmConnection","handleDeleteConnection","connection_id","JsonDumpModal","ResultsContainer","ThroughputCell","H4","h4","_testResult$start","_testResult$start$tim","_testResult$start2","_testResult$start2$co","_testResult$start3","_testResult$start3$te","_testResult$start4","_testResult$start4$te","_testResult$end","_testResult$end$sum_r","_testResult$end2","_testResult$end2$sum_","canAccessPerformance","running","testResult","performance","formData","setFormData","clearResults","connectedPeers","TestForm","runSpeedTest","_e$target","peerRoutes","uiRoute","log","start","timestamp","time","connecting_to","host","test_start","num_streams","duration","end","sum_received","bits_per_second","toFixed","sum_sent","AddUserContainer","InputGroup","ActionContainer","PasswordChangeContainer","lighter","PasswordInputGroup","UserManagement","userInfo","useAuth","userId","users","creatingUser","createError","newUser","setNewUser","confirmPassword","passwordMismatch","setPasswordMismatch","expandedUserId","setExpandedUserId","passwordForm","setPasswordForm","currentPassword","newPassword","handleInputChange","field","prev","handlePasswordChange","fetchUsers","createUserAction","err","key","label","col","item","roles","last_login_at","toLocaleString","togglePasswordChange","handleDeactivateUser","user","deactivateUserAction","catch","handleActivateUser","activateUserAction","last","handleDeleteUser","deleteUserAction","changePasswordAction","handleUpdatePassword","ErrorMessage","PasswordChange","changingPassword","passwordError","validationError","setValidationError","handleChange","show","getWarhammerInfo","Overlay","Spinner","Message","ReleaseNotes","onUpdateComplete","subMessage","completeMessage","setStatus","releaseNotes","setReleaseNotes","updateInfo","updateError","updateLoading","useUpdateStatusQuery","timer","setTimeout","window","location","reload","clearTimeout","opacity","FileUpload","loading","uploadError","upload","selectedFile","setSelectedFile","checksum","setChecksum","inputKey","setInputKey","showUpdateOverlay","setShowUpdateOverlay","file","files","clearUploadState","endsWith","uploadUpdateFile","UpdateOverlay","VpnKeyContainer","SuccessMessage","VpnKey","url","token","setLoading","setSuccess","showOverlay","setShowOverlay","fieldSanitizers","slice","handleServerUp","setVpnKey","LicenseContainer","LicenseStatus","LicenseInfo","LoadingSpinner","_ref22","_ref23","DownloadButton","_ref24","_ref25","_ref26","_ref27","_ref28","accentHover","_ref29","LicenseManagement","_licenseInfo$license_","_licenseInfo$license_2","_licenseInfo$license_3","authToken","licenseKey","setLicenseKey","licenseStatusData","statusLoading","statusError","useLicenseStatusQuery","licenseInfo","infoLoading","infoError","useLicenseInfoQuery","deviceInfo","deviceInfoLoading","deviceInfoError","useDeviceInfoQuery","activateLicenseMutation","useActivateLicenseMutation","deactivateLicenseMutation","useDeactivateLicenseMutation","licenseStatus","hasError","statusDisplay","getStatusDisplay","deviceId","device_id","current_device_id","substring","handleDownloadDeviceInfo","blob","Blob","URL","createObjectURL","link","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","license_info","customer_name","issued_date","toLocaleDateString","expiry_date","expires_in_days","getSSLStatus","authService","makeAuthRequest","SSLContainer","SSLInfo","StatusIndicator","SSLText","SSLStatusComponent","isDownloading","setIsDownloading","sslStatus","isSSLEnabled","ssl_enabled","hasCertificate","certificate_exists","method","responseType","downloadSSLCertificate","alert","isAdmin","canAccessSystemConfig","canAccessUserManagement","canAccessVpnKey","canAccessFileUpload","canAccessPasswordChange","shouldShowRestrictedContent","SystemPane","ConfigSection","UserPane","UsersPane","showSystemPane","DownloadList","attrs","as","rel","Instructions","InfoNote","homeserver","process","REACT_APP_MATRIX_HOMESERVER","hasConfiguredHomeserver","Boolean","instructions","Dock","textMuted","header","breakpoints","mobile","LogoContainer","CenterContainer","RightContainer","HeaderButton","MODAL_TYPES","AppHeader","logout","vpnUnavailable","warhammerInfo","_state$warhammer","_state$warhammer$data","warhammer","activeModal","setActiveModal","handleModalOpen","modalType","handleModalClose","src","alt","handleLogout","RoutesModal","NetworkSettingsModal","PerformanceModal","ChatModal","ConfigurationModal","FooterContainer","FooterSection","BrandText","VersionText","WarningText","onConfirm","confirmation","setConfirmation","AppFooter","showKillModal","setShowKillModal","version","KillNetworkModal","killNetwork","MapContainer","card","MapControl","StyleSelect","_ref30","_ref31","mapboxgl","mapInstance","current","fitToPeer","_peer$location","_peer$location2","latitude","longitude","flyTo","center","zoom","essential","MAP_STYLES","dark","light","satellite","streets","satellite_streets","MAP_STYLE_URLS","MapBox","mapContainer","useRef","mapCoordinates","setMapCoordinates","setZoom","isFullscreen","setIsFullscreen","currentStyle","setCurrentStyle","markersRef","show3DBuildings","setShow3DBuildings","isInitialized","setIsInitialized","waitingForPeers","setWaitingForPeers","mapLoaded","showTerrain","setShowTerrain","fitMapToPeers","bounds","hasValidBounds","forEach","_peer$location3","_peer$location4","extend","toggle3DBuildings","fitBounds","maxZoom","addSkyLayer","addLayer","updateMarkers","marker","remove","_peer$location5","_peer$location6","_peer$location7","markerEl","createCustomMarker","isCurrentPeer","className","dot","textContent","element","anchor","setLngLat","addTo","popup","closeButton","offset","setHTML","last_update","addEventListener","setPopup","buildingLayer","getStyle","layers","layer","removeLayer","container","attributionControl","pitch","addControl","on","ref","top","right","toggleFullscreen","fullscreenElement","exitFullscreen","requestFullscreen","FiMinimize","FiMaximize","FiRefreshCw","FiLayers","toggleTerrain","setTerrain","getSource","removeSource","addSource","FiMap","hadTerrain","once","setStyle","entries","fetchPeers","Array","isArray","formattedPeers","formatPeerData","onSettled","useNetworkQuality","cacheVersion","setCacheVersion","lastUpdateRef","queryHistoryRef","Map","queryStartTimesRef","getQueryCache","subscribe","useMemo","activeQueries","getAll","totalQueries","successfulQueries","failedQueries","averageResponseTime","lastError","history","get","total","successful","failed","responseTimes","lastStatus","lastDataUpdatedAt","currentStatus","currentDataUpdatedAt","dataUpdatedAt","fetchStatus","has","set","push","shift","estimatedResponseTime","delete","totalResponseTime","responseTimeCount","peersHistory","reduce","sum","max","PeerInfo","PeerName","PeerDetails","ButtonGroup","ActionDetails","ActionList","ul","ActionListItem","li","LocationLink","LocationToggle","QualityDot","$quality","NetworkQualityFooter","NetworkQualityLabel","NetworkQualityDisplay","NetworkQualityTooltip","WarhammerNetworkPeers","canAccessPeers","showMgrs","setShowMgrs","deleteModalOpen","setDeleteModalOpen","peerToDelete","setPeerToDelete","isError","usePeersQuery","networkQuality","getPeerStatus","fixToNDigits","digits","formatLocation","linkText","tooltipText","mgrs","handleLocationClick","FiToggleRight","FiToggleLeft","_peer$name","exitNode","toLowerCase","handleDeletePeer","round","fontWeight","DeletePeerModal","closeDeleteModal","deleteVpnPeerAction","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","fallbackMapInstance","setView","animate","FALLBACK_MAP_STYLES","basic","FALLBACK_TILE_URLS","ONLINE_FALLBACK_URLS","markerColor","html","iconSize","iconAnchor","FallbackMap","tileLayer","setTileLayer","isOnline","setIsOnline","zoomControl","initializeTileLayer","localTilesAvailable","testUrl","fetch","ok","checkLocalTiles","attribution","subdomains","icon","bindPopup","openPopup","closePopup","left","SmartMap","mapboxAvailable","setMapboxAvailable","isChecking","setIsChecking","AbortSignal","timeout","checkMapboxAvailability","width","ContentContainer","tablet","TableContainer","MainContent","TableScroll","LayoutContainer","ContentWrapper","Footer","footer","StyledToastContainer","ToastContainer","fontFamily","LicenseRestrictedMessage","DefaultLayout","canAccessMap","getLicenseMessage","fetchWarhammerStatus","Navigate","to","h2","_templateObject9","input","_templateObject10","select","_templateObject11","_templateObject12","hr","_templateObject13","_ref32","_templateObject14","_ref33"],"sourceRoot":""}